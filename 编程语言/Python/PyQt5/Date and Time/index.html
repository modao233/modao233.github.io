<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「工作日还有多少天，休息日还剩几小时」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#QDate%EF%BC%8C-QTime%EF%BC%8C-QDateTime"><span class="toc-text">QDate， QTime， QDateTime</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4"><span class="toc-text">当前日期和时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UTC-%E6%97%B6%E9%97%B4"><span class="toc-text">UTC 时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A9%E6%95%B0"><span class="toc-text">天数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A9%E6%95%B0%E5%B7%AE%E5%BC%82"><span class="toc-text">天数差异</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%AE%97%E6%9C%AF"><span class="toc-text">日期时间算术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8F%E4%BB%A4%E6%97%B6"><span class="toc-text">夏令时</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unix-%E7%BA%AA%E5%85%83"><span class="toc-text">Unix 纪元</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Julian-day%EF%BC%88%E6%9C%B1%E5%88%A9%E5%AE%89%E6%97%A5%EF%BC%89"><span class="toc-text">Julian day（朱利安日）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E6%88%98%E5%BD%B9"><span class="toc-text">历史战役</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		PyQt5 日期和时间
	</div>
	
	<div class="page-date">
		2020-08-18
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/python">python</a>
				
				</div>
				」
			 
				「
				<div class="category">
					<a href="/categories/PyQt5">PyQt5</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p><a target="_blank" rel="noopener" href="http://zetcode.com/gui/pyqt5/datetime/">翻译自原文：PyQt5 date and time</a></p>
<p>翻译时间 2020 年 8 月 18 日</p>
<span id="more"></span>

<p>PyQt5 教程的这一部分演示了如何使用 PyQt5 中的日期和时间。</p>
<h2 id="QDate，-QTime，-QDateTime"><a href="#QDate，-QTime，-QDateTime" class="headerlink" title="QDate， QTime， QDateTime"></a>QDate， QTime， QDateTime</h2><p>PyQt5 具有<code>QDate</code>, <code>QDateTime</code>, <code>QTime</code>类要处理日期和时间：</p>
<ul>
<li><code>QDate</code>是用于处理公历中的日历日期的类。它具有确定日期、比较或操作日期的方法</li>
<li><code>QTime</code>类使用时钟时间。它提供了比较时间、确定时间和各种其他时间操作方法的方法</li>
<li><code>QDateTime</code>是将<code>QDate</code>和<code>QDate</code>对象合并到一个对象的类</li>
</ul>
<h2 id="当前日期和时间"><a href="#当前日期和时间" class="headerlink" title="当前日期和时间"></a>当前日期和时间</h2><p>PyQt5 具有<code>currentDate</code>，<code>currentTime</code>和<code>currentDateTime</code>用于确定当前日期和时间的方法。</p>
<p>current_date_time. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate, QTime, QDateTime, Qt<br><br>now = QDate.currentDate()<br><br><span class="hljs-built_in">print</span>(now.toString(Qt.ISODate))<br><span class="hljs-built_in">print</span>(now.toString(Qt.DefaultLocaleLongDate))<br><br>datetime = QDateTime.currentDateTime()<br><br><span class="hljs-built_in">print</span>(datetime.toString())<br><br>time = QTime.currentTime()<br><br><span class="hljs-built_in">print</span>(time.toString(Qt.DefaultLocaleLongDate))<br></code></pre></td></tr></table></figure>

<p>该示例以各种格式打印当前日期、日期和时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">now = QDate.currentDate()<br></code></pre></td></tr></table></figure>

<p><code>currentDate</code>方法返回当前日期。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(now.toString(Qt.ISODate))<br>print(now.toString(Qt.DefaultLocaleLongDate))<br></code></pre></td></tr></table></figure>

<p>通过传递值<code>Qt.ISODate</code>和<code>Qt.DefaultLocaleLongDate</code>给<code>toString</code>方法，以两种不同的格式打印日期。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">datetime = QDateTime.currentDateTime()<br></code></pre></td></tr></table></figure>

<p><code>currentDateTime</code>方法返回当前日期和时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">time = QTime.currentTime()<br></code></pre></td></tr></table></figure>

<p><code>currentTime</code>方法返回当前时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./current_date_time.py <br>2020-05-16<br>Saturday, May 16, 2020<br>Sat May 16 09:53:37 2020<br>9:53:37 AM CEST<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="UTC-时间"><a href="#UTC-时间" class="headerlink" title="UTC 时间"></a>UTC 时间</h2><p>我们的星球是一个球体，它围绕其轴旋转。地球向东旋转，所以太阳在不同的时间在不同的地点升起。地球大约24小时内旋转一次，因此，世界被划分为24个时区。在每个时区中，都有不同的本地时间。夏令时通常进一步修改此本地时间。</p>
<p>需要一个全球时间。一个全局时间有助于避免时区和夏令时混淆。UTC（通用协调时间）被选为主要时间标准。UTC 用于航空、天气预报、飞行计划、空中交通管制许可和地图。与当地时间不同，UTC 不会随着季节的变化而变化。</p>
<p>utc_local. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDateTime, Qt<br><br>now = QDateTime.currentDateTime()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Local datetime: &#x27;</span>, now.toLocalTime().toString(Qt.ISODate))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Universal datetime: &#x27;</span>, now.toUTC().toString(Qt.ISODate))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The offset from UTC is: <span class="hljs-subst">&#123;now.offsetFromUtc()&#125;</span> seconds&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例确定当前通用和本地日期和时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(&#x27;Local datetime: &#x27;, now.toLocalTime().toString(Qt.ISODate))<br></code></pre></td></tr></table></figure>

<p><code>currentDateTime</code>方法返回以本地时间表示的当前日期和时间。我们可以使用<code>toLocalTime</code>将通用时间转换为本地时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(&#x27;Universal datetime: &#x27;, now.toUTC().toString(Qt.ISODate))<br></code></pre></td></tr></table></figure>

<p>通过<code>toUTC</code>方法从日期时间对象获取通用时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(f&#x27;The offset from UTC is: &#123;now.offsetFromUtc()&#125; seconds&#x27;)<br></code></pre></td></tr></table></figure>

<p><code>offsetFromUtc</code>方法给出通用时间和本地时间之间的差值（以秒为单位）。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./utc_local.py <br>Local datetime:  2020-05-16T09:56:23<br>Universal datetime:  2020-05-16T07:56:23Z<br>The offset from UTC is: 7200 seconds<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="天数"><a href="#天数" class="headerlink" title="天数"></a>天数</h2><p>特定月份中的天数由<code>daysInMonth</code>方法返回，一年中的天数由<code>daysInYear</code>方法返回。</p>
<p>n_of_days. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate, Qt<br><br>now = QDate.currentDate()<br><br>d = QDate(<span class="hljs-number">1945</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Days in month: <span class="hljs-subst">&#123;d.daysInMonth()&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Days in year: <span class="hljs-subst">&#123;d.daysInYear()&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例打印所选日期的一个月和一年的天数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./n_of_days.py <br>Days in month: 31<br>Days in year: 365<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="天数差异"><a href="#天数差异" class="headerlink" title="天数差异"></a>天数差异</h2><p><code>daysTo</code>方法返回从日期到另一个日期的天数。</p>
<p>xmas.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate<br><br>xmas1 = QDate(<span class="hljs-number">2019</span>, <span class="hljs-number">12</span>, <span class="hljs-number">24</span>)<br>xmas2 = QDate(<span class="hljs-number">2020</span>, <span class="hljs-number">12</span>, <span class="hljs-number">24</span>)<br><br>now = QDate.currentDate()<br><br>dayspassed = xmas1.daysTo(now)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;dayspassed&#125;</span> days have passed since last XMas&#x27;</span>)<br><br>nofdays = now.daysTo(xmas2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;There are <span class="hljs-subst">&#123;nofdays&#125;</span> days until next XMas&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例计算从上次圣诞节经过的天数以及到下一个圣诞节的天数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./xmas.py <br>144 days have passed since last XMas<br>There are 222 days until next XMas<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="日期时间算术"><a href="#日期时间算术" class="headerlink" title="日期时间算术"></a>日期时间算术</h2><p>我们经常需要将天、秒或年加或减为日期时间值。</p>
<p>arithmetic.py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDateTime, Qt<br><br>now = QDateTime.currentDateTime()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Today:&#x27;</span>, now.toString(Qt.ISODate))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Adding 12 days: <span class="hljs-subst">&#123;now.addDays(<span class="hljs-number">12</span>).toString(Qt.ISODate)&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Subtracting 22 days: <span class="hljs-subst">&#123;now.addDays(-<span class="hljs-number">22</span>).toString(Qt.ISODate)&#125;</span>&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Adding 50 seconds: <span class="hljs-subst">&#123;now.addSecs(<span class="hljs-number">50</span>).toString(Qt.ISODate)&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Adding 3 months: <span class="hljs-subst">&#123;now.addMonths(<span class="hljs-number">3</span>).toString(Qt.ISODate)&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Adding 12 years: <span class="hljs-subst">&#123;now.addYears(<span class="hljs-number">12</span>).toString(Qt.ISODate)&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例确定当前日期时间，并添加或减去天、秒、月和年。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./arithmetic.py <br>Today: 2020-05-16T10:11:56<br>Adding 12 days: 2020-05-28T10:11:56<br>Subtracting 22 days: 2020-04-24T10:11:56<br>Adding 50 seconds: 2020-05-16T10:12:46<br>Adding 3 months: 2020-08-16T10:11:56<br>Adding 12 years: 2032-05-16T10:11:56<br></code></pre></td></tr></table></figure>

<p>这是示例输出。</p>
<h2 id="夏令时"><a href="#夏令时" class="headerlink" title="夏令时"></a>夏令时</h2><p>夏令时 （DST） 是在夏季推进时钟，以便晚上日光持续更长时间的做法。时间在春季初向前调整一小时，在秋季向后调整为标准时间。</p>
<p>daylight_saving. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDateTime, QTimeZone, Qt<br><br>now = QDateTime.currentDateTime()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Time zone: <span class="hljs-subst">&#123;now.timeZoneAbbreviation()&#125;</span>&#x27;</span>)<br><br><span class="hljs-keyword">if</span> now.isDaylightTime():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The current date falls into DST time&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;The current date does not fall into DST time&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例检查日期时间是否位于夏令时。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(f&#x27;Time zone: &#123;now.timeZoneAbbreviation()&#125;&#x27;)<br></code></pre></td></tr></table></figure>

<p><code>timeZoneAbbreviation()</code>方法返回日期时间的时区缩写。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">if now.isDaylightTime():<br>...<br></code></pre></td></tr></table></figure>

<p>如果日期时间落在夏令时，则<code>isDaylightTime()</code>返回true。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./daylight_saving.py <br>Time zone: CEST<br>The current date falls into DST time<br></code></pre></td></tr></table></figure>

<h2 id="Unix-纪元"><a href="#Unix-纪元" class="headerlink" title="Unix 纪元"></a>Unix 纪元</h2><p>一个时代是选择作为特定时代起源的瞬间时间。例如，在西方基督教国家，时间时代从第0天开始，耶稣出生的时候。另一个例子是法国共和历，它使用了十二年。这个纪元是1792年9月22日宣布的第一个共和国和君主制废除的共和国时代的开始。</p>
<p>计算机也有他们的时代。其中最流行的是Unix时代。Unix 纪元是 1970 年 1 月 1 日 00：00：00 UTC 的时间（或 1970- 01-01T00：00：00Z ISO 8601）。计算机中的日期和时间根据自该计算机或平台的已定义纪元以来经过的秒数或时钟刻度确定。</p>
<p>Unix 时间是自 Unix 纪元以来经过的秒数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ date +%s<br>1589617100<br></code></pre></td></tr></table></figure>

<p>Unix 日期命令可用于获取 Unix 时间。在这个特殊的时刻，1589617100秒已经过去了，因为Unix时代。</p>
<p>unix_time. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python3</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDateTime, Qt<br><br>now = QDateTime.currentDateTime()<br><br>unix_time = now.toSecsSinceEpoch() <br><span class="hljs-built_in">print</span>(unix_time)<br><br>d = QDateTime.fromSecsSinceEpoch(unix_time)<br><span class="hljs-built_in">print</span>(d.toString(Qt.ISODate))<br></code></pre></td></tr></table></figure>

<p>该示例打印 Unix 时间并将其转换回<code>QDateTime</code>类型。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">now = QDateTime.currentDateTime()<br></code></pre></td></tr></table></figure>

<p>首先，我们检索当前日期和时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">unix_time = now.toSecsSinceEpoch() <br></code></pre></td></tr></table></figure>

<p><code>toSecsSinceEpoch()</code>返回 Unix 时间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">d = QDateTime.fromSecsSinceEpoch(unix_time)<br></code></pre></td></tr></table></figure>

<p>使用<code>fromSecsSinceEpoch()</code>，我们将 Unix 时间转换为 <code>QDateTime</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./unix_time.py <br>1589617144<br>2020-05-16T10:19:04<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="Julian-day（朱利安日）"><a href="#Julian-day（朱利安日）" class="headerlink" title="Julian day（朱利安日）"></a>Julian day（朱利安日）</h2><p>朱利安日是指自朱利安时期开始以来的连续数天数。它主要用于天文学家。它不应该与朱利安历法混淆。儒略时期开始于2713年。儒略日 0 被分配到从 4713 年 1 月 1 日中午开始的一天。</p>
<p>朱利安日数 （JDN） 是自此期间开始以来经过的天数。任何瞬间的朱利安日期 （JD） 是前一个中午的朱利安日数加上从该瞬间开始当天的分数（Qt 不计算此分数）。除了天文学，朱利安日期经常被军事和大型机程序使用。</p>
<p>julian_day. py：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate, Qt<br><br>now = QDate.currentDate()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Gregorian date for today:&#x27;</span>, now.toString(Qt.ISODate))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Julian day for today:&#x27;</span>, now.toJulianDay()) <br></code></pre></td></tr></table></figure>

<p>在示例中，我们计算今天公历日期和朱利安日。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">print(&#x27;Julian day for today:&#x27;, now.toJulianDay())<br></code></pre></td></tr></table></figure>

<p><code>toJulianDay()</code>方法返回朱利安日。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./julian_day.py <br>Gregorian date for today: 2020-05-16<br>Julian day for today: 2458986<br></code></pre></td></tr></table></figure>

<p>这是输出。</p>
<h2 id="历史战役"><a href="#历史战役" class="headerlink" title="历史战役"></a>历史战役</h2><p>与朱利安日使用有关的可能做跨越几个世纪的计算。</p>
<p>battles.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><br><span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate, Qt<br><br>borodino_battle = QDate(<span class="hljs-number">1812</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>)<br>slavkov_battle = QDate(<span class="hljs-number">1805</span>, <span class="hljs-number">12</span>, <span class="hljs-number">2</span>)<br><br>now = QDate.currentDate()<br><br>j_today = now.toJulianDay()<br>j_borodino = borodino_battle.toJulianDay()<br>j_slavkov = slavkov_battle.toJulianDay()<br><br>d1 = j_today - j_slavkov<br>d2 = j_today - j_borodino<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Days since Slavkov battle: <span class="hljs-subst">&#123;d1&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Days since Borodino battle: <span class="hljs-subst">&#123;d2&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>该示例计算自两个历史事件以来的天数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">borodino_battle = QDate(1812, 9, 7)<br>slavkov_battle = QDate(1805, 12, 2)<br></code></pre></td></tr></table></figure>

<p>我们有拿破仑时代的两个战斗日期。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">j_today = now.toJulianDay()<br>j_borodino = borodino_battle.toJulianDay()<br>j_slavkov = slavkov_battle.toJulianDay()<br></code></pre></td></tr></table></figure>

<p>我们计算今天和斯拉夫科夫和博罗迪诺战役的朱利安时代。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">d1 = j_today - j_slavkov<br>d2 = j_today - j_borodino<br></code></pre></td></tr></table></figure>

<p>我们计算两次战斗以来的天数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">$ ./battles.py <br>Days since Slavkov battle: 78328<br>Days since Borodino battle: 75857<br></code></pre></td></tr></table></figure>

<p>当我们运行这个脚本，78328天已经过去，因为斯拉夫科夫战斗，75857自博罗迪诺战斗。</p>
<p>在 PyQt5 教程的这一部分中，我们处理过日期和时间。</p>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>