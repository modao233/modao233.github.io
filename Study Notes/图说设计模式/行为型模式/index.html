<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「生活可以更简单, 欢迎来到我的开源世界」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F-Command-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">命令模式(Command)（⭐⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F-Interpreter-%EF%BC%88%E2%AD%90%EF%BC%89"><span class="toc-text">解释器模式(Interpreter)（⭐）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA"><span class="toc-text">模式动机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89"><span class="toc-text">模式定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84"><span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90"><span class="toc-text">模式分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E7%8E%AF%E5%A2%83"><span class="toc-text">适用环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8"><span class="toc-text">模式应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95"><span class="toc-text">模式拓展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F-Iterator-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">迭代器模式(Iterator)（⭐⭐⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F-Mediator-%EF%BC%88%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">中介者模式(Mediator)（⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F-Memento-%EF%BC%88%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">备忘录模式(Memento)（⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-Observer-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">观察者模式(Observer)（⭐⭐⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F-State-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">状态模式(State)（⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F-Strategy-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">策略模式(Strategy)（⭐⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Template-Method-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">模板方法模式(Template Method)（⭐⭐⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F-Visitor-%EF%BC%88%E2%AD%90%EF%BC%89"><span class="toc-text">访问者模式(Visitor)（⭐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F-Chain-of-Responsibility-%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="toc-text">职责链模式(Chain of Responsibility)（⭐⭐⭐）</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		行为型模式
	</div>
	
	<div class="page-date">
		2021-01-02
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/设计模式">设计模式</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>行为型模式</p>
<span id="more"></span>

<p>行为型模式(Behavioral Pattern)是对在不同的对象之间划分责任和算法的抽象化。</p>
<p>行为型模式不仅仅关注类和对象的结构，而且重点关注它们之间的相互作用。</p>
<p>通过行为型模式，可以更加清晰地划分类与对象的职责，并研究系统在运行时实例对象 之间的交互。在系统运行时，对象并不是孤立的，它们可以通过相互通信与协作完成某些复杂功能，一个对象在运行时也将影响到其他对象的运行。</p>
<p>行为型模式分为类行为型模式和对象行为型模式两种：</p>
<ul>
<li>  类行为型模式：类的行为型模式使用继承关系在几个类之间分配行为，类行为型模式主要通过多态等方式来分配父类与子类的职责。</li>
<li>  对象行为型模式：对象的行为型模式则使用对象的聚合关联关系来分配行为，对象行为型模式主要是通过对象关联等方式来分配两个或多个类的职责。根据“合成复用原则”，系统中要尽量使用关联关系来取代继承关系，因此大部分行为型设计模式都属于对象行为型设计模式。</li>
</ul>
<h2 id="命令模式-Command-（⭐⭐⭐⭐）"><a href="#命令模式-Command-（⭐⭐⭐⭐）" class="headerlink" title="命令模式(Command)（⭐⭐⭐⭐）"></a>命令模式(Command)（⭐⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="解释器模式-Interpreter-（⭐）"><a href="#解释器模式-Interpreter-（⭐）" class="headerlink" title="解释器模式(Interpreter)（⭐）"></a>解释器模式(Interpreter)（⭐）</h2><h3 id="模式动机"><a href="#模式动机" class="headerlink" title="模式动机"></a>模式动机</h3><p>在软件设计中，我们经常需要向某些对象发送请求，但是并不知道请求的接收者是谁，也不知道被请求的操作是哪个，我们只需在程序运行时指定具体的请求接收者即可，此时，可以使用命令模式来进行设计，使得请求发送者与请求接收者消除彼此之间的耦合，让对象之间的调用关系更加灵活。</p>
<p>命令模式可以对发送者和接收者完全解耦，发送者与接收者之间没有直接引用关系，发送请求的对象只需要知道如何发送请求，而不必知道如何完成请求。这就是命令模式的模式动机。</p>
<h3 id="模式定义"><a href="#模式定义" class="headerlink" title="模式定义"></a>模式定义</h3><p>命令模式(Command  Pattern)：将一个请求封装为一个对象，从而使我们可用不同的请求对客户进行参数化；对请求排队或者记录请求日志，以及支持可撤销的操作。命令模式是一种对象行为型模式，其别名为动作(Action)模式或事务(Transaction)模式。</p>
<h3 id="模式结构"><a href="#模式结构" class="headerlink" title="模式结构"></a>模式结构</h3><p>命令模式包含如下角色：</p>
<ul>
<li>  Command: 抽象命令类</li>
<li>  ConcreteCommand: 具体命令类</li>
<li>  Invoker: 调用者</li>
<li>  Receiver: 接收者</li>
<li>  Client:客户类</li>
</ul>
<h3 id="模式分析"><a href="#模式分析" class="headerlink" title="模式分析"></a>模式分析</h3><p>命令模式的本质是对命令进行封装，将发出命令的责任和执行命令的责任分割开。</p>
<ul>
<li>  每一个命令都是一个操作：请求的一方发出请求，要求执行一个操作；接收的一方收到请求，并执行操作。</li>
<li>  命令模式允许请求的一方和接收的一方独立开来，使得请求的一方不必知道接收请求的一方的接口，更不必知道请求是怎么被接收，以及操作是否被执行、何时被执行，以及是怎么被执行的。</li>
<li>  命令模式使请求本身成为一个对象，这个对象和其他对象一样可以被存储和传递。</li>
<li>  命令模式的关键在于引入了抽象命令接口，且发送者针对抽象命令接口编程，只有实现了抽象命令接口的具体命令才能与接收者相关联。</li>
</ul>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>电视机是请求的接收者，遥控器是请求的发送者，遥控器上有一些按钮，不同的按钮对应电视机的不同操作。抽象命令角色由一个命令接口来扮演，有三个具体的命令类实现了抽象命令接口，这三个具体命令类分别代表三种操作：打开电视机、关闭电视机和切换频道。显然，电视机遥控器就是一个典型的命令模式应用实例。</p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>  降低系统的耦合度。</li>
<li>  新的命令可以很容易地加入到系统中。</li>
<li>  可以比较容易地设计一个命令队列和宏命令（组合命令）。</li>
<li>  可以方便地实现对请求的Undo和Redo。</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>使用命令模式可能会导致某些系统有过多的具体命令类。因为针对每一个命令都需要设计一个具体命令类，因此某些系统可能需要大量具体命令类，这将影响命令模式的使用。</p>
<h3 id="适用环境"><a href="#适用环境" class="headerlink" title="适用环境"></a>适用环境</h3><ul>
<li>  系统需要将请求调用者和请求接收者解耦，使得调用者和接收者不直接交互。</li>
<li>  系统需要在不同的时间指定请求、将请求排队和执行请求。</li>
<li>  系统需要支持命令的撤销(Undo)操作和恢复(Redo)操作。</li>
<li>  系统需要将一组操作组合在一起，即支持宏命令</li>
</ul>
<h3 id="模式应用"><a href="#模式应用" class="headerlink" title="模式应用"></a>模式应用</h3><p>很多系统都提供了宏命令功能，如UNIX平台下的Shell编程，可以将多条命令封装在一个命令对象中，只需要一条简单的命令即可执行一个命令序列，这也是命令模式的应用实例之一。</p>
<h3 id="模式拓展"><a href="#模式拓展" class="headerlink" title="模式拓展"></a>模式拓展</h3><p>宏命令又称为组合命令，它是命令模式和组合模式联用的产物。</p>
<p>宏命令也是一个具体命令，不过它包含了对其他命令对象的引用，在调用宏命令的execute()方法时，将递归调用它所包含的每个成员命令的execute()方法，一个宏命令的成员对象可以是简单命令，还可以继续是宏命令。执行一个宏命令将执行多个具体命令，从而实现对命令的批处理。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>  在命令模式中，将一个请求封装为一个对象，从而使我们可用不同的请求对客户进行参数化；对请求排队或者记录请求日志，以及支持可撤销的操作。命令模式是一种对象行为型模式，其别名为动作模式或事务模式。</li>
<li>  命令模式包含四个角色：抽象命令类中声明了用于执行请求的execute()等方法，通过这些方法可以调用请求接收者的相关操作；具体命令类是抽象命令类的子类，实现了在抽象命令类中声明的方法，它对应具体的接收者对象，将接收者对象的动作绑定其中；调用者即请求的发送者，又称为请求者，它通过命令对象来执行请求；接收者执行与请求相关的操作，它具体实现对请求的业务处理。</li>
<li>  命令模式的本质是对命令进行封装，将发出命令的责任和执行命令的责任分割开。命令模式使请求本身成为一个对象，这个对象和其他对象一样可以被存储和传递。</li>
<li>  命令模式的主要优点在于降低系统的耦合度，增加新的命令很方便，而且可以比较容易地设计一个命令队列和宏命令，并方便地实现对请求的撤销和恢复；其主要缺点在于可能会导致某些系统有过多的具体命令类。</li>
<li>  命令模式适用情况包括：需要将请求调用者和请求接收者解耦，使得调用者和接收者不直接交互；需要在不同的时间指定请求、将请求排队和执行请求；需要支持命令的撤销操作和恢复操作，需要将一组操作组合在一起，即支持宏命令。</li>
</ul>
<h2 id="迭代器模式-Iterator-（⭐⭐⭐⭐⭐）"><a href="#迭代器模式-Iterator-（⭐⭐⭐⭐⭐）" class="headerlink" title="迭代器模式(Iterator)（⭐⭐⭐⭐⭐）"></a>迭代器模式(Iterator)（⭐⭐⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="中介者模式-Mediator-（⭐⭐）"><a href="#中介者模式-Mediator-（⭐⭐）" class="headerlink" title="中介者模式(Mediator)（⭐⭐）"></a>中介者模式(Mediator)（⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="备忘录模式-Memento-（⭐⭐）"><a href="#备忘录模式-Memento-（⭐⭐）" class="headerlink" title="备忘录模式(Memento)（⭐⭐）"></a>备忘录模式(Memento)（⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="观察者模式-Observer-（⭐⭐⭐⭐⭐）"><a href="#观察者模式-Observer-（⭐⭐⭐⭐⭐）" class="headerlink" title="观察者模式(Observer)（⭐⭐⭐⭐⭐）"></a>观察者模式(Observer)（⭐⭐⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="状态模式-State-（⭐⭐⭐）"><a href="#状态模式-State-（⭐⭐⭐）" class="headerlink" title="状态模式(State)（⭐⭐⭐）"></a>状态模式(State)（⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="策略模式-Strategy-（⭐⭐⭐⭐）"><a href="#策略模式-Strategy-（⭐⭐⭐⭐）" class="headerlink" title="策略模式(Strategy)（⭐⭐⭐⭐）"></a>策略模式(Strategy)（⭐⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="模板方法模式-Template-Method-（⭐⭐⭐）"><a href="#模板方法模式-Template-Method-（⭐⭐⭐）" class="headerlink" title="模板方法模式(Template Method)（⭐⭐⭐）"></a>模板方法模式(Template Method)（⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="访问者模式-Visitor-（⭐）"><a href="#访问者模式-Visitor-（⭐）" class="headerlink" title="访问者模式(Visitor)（⭐）"></a>访问者模式(Visitor)（⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>
<h2 id="职责链模式-Chain-of-Responsibility-（⭐⭐⭐）"><a href="#职责链模式-Chain-of-Responsibility-（⭐⭐⭐）" class="headerlink" title="职责链模式(Chain of Responsibility)（⭐⭐⭐）"></a>职责链模式(Chain of Responsibility)（⭐⭐⭐）</h2><p>模式动机</p>
<p>模式定义</p>
<p>模式结构</p>
<p>模式分析</p>
<p>实例</p>
<p>优点</p>
<p>缺点</p>
<p>适用环境</p>
<p>模式应用</p>
<p>模式拓展</p>
<p>总结</p>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>