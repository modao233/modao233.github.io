<!doctype html><html lang=zh-Hans-CN><head><title>modao's blog</title><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=noodp name=robots><link href=https://modao.site/style.css rel=stylesheet><link href=https://modao.site/color/green.css rel=stylesheet><link href=https://modao.site/color/background_dark.css rel=stylesheet><link href=https://modao.site/font-hack.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-N2WTGJE0M5');</script><body><div class=container><header class=header><div class=header__inner><div class=header__logo><a style="text-decoration: none;" href=https://modao.site> <div class=logo>MODAO</div> </a></div></div><nav class=menu><ul class=menu__inner><li class=active><a href=https://modao.site>Home</a><li><a href=https://modao.site/tags>Tags</a><li><a href=https://modao.site/language>PL</a><li><a href=https://modao.site/books>Books</a><li><a href=https://modao.site/links>Links</a><li><a href=https://modao.site/friend>Friend</a></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://modao.site/Software/Windows/shi-yong-ftp/>Linux下FTP服务端和客户端使用</a></h1><div class=post-meta-inline><span class=post-date> 2021-03-03 </span></div><span class=post-tags-inline> :: tags:  <a class=post-tag href=https://modao.site/tags/software/>#Software</a>  <a class=post-tag href=https://modao.site/tags/windows/>#Windows</a></span><div class=post-content><p>记录使用ftp的过程<h2 id=archlinuxduan-an-zhuang-vsftpd>ArchLinux端安装vsftpd</h2><p>vsftpd (“Very Secure FTP Daemon“) 是一个为 UNIX 类系统开发的轻量，稳定和安全的 FTP 服务器端。<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>pacman -S vsftpd
</span><span>systemctl start vsftpd.service
</span><span>systemctl enable vsftpd.service
</span></code></pre><p>vsftpd配置文件<code>/etc/vsftpd.conf</code><pre style=background-color:#2b303b;color:#c0c5ce;><code><span>//允许本地用户登录
</span><span>local_enable=YES
</span><span>//允许上传
</span><span>write_enable=YES
</span></code></pre><p>配置允许的连接<code>/etc/hosts.allow</code><pre style=background-color:#2b303b;color:#c0c5ce;><code><span># 允许所有连接
</span><span>vsftpd: ALL
</span><span># IP 地址范围
</span><span>vsftpd: 10.0.0.0/255.255.255.0
</span></code></pre><p>客户端出现<strong>Error 500</strong>：vsftpd: Error 500 with kernel 4.18+<p>如果在列出目录时遇到故障，将其添加到 <code>/etc/vsftpd.conf</code>：<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>seccomp_sandbox=NO
</span></code></pre><h2 id=ubuntuduan-an-zhuang-ncftp>Ubuntu端安装ncftp</h2><p>原始的ftp功能不支持<code>-R</code>递归发送目录，我使用了ncftp替代。<p>ncftp连接时必须指定用户密码，否则会匿名连接。<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>//连接命令的选项必须在 主机号 前面，否则也是匿名登录
</span><span>ncftp -u [用户名] -p [密码] 192.168.206.134
</span><span>//进入ncftp页面后，输入?或help可以查看帮助
</span><span>//命令不带l前缀的是切换远程端目录
</span><span>//命令带l前缀的是切换本地端目录
</span><span>cd [远程端接收文件目录，可通过mkdir先创建]
</span><span>lcd [本地打算上传的文件的目录]
</span><span>put -R [本地端目录名]
</span></code></pre><p>其它ftp命令行客户端：<code>lftp</code>、<code>cbftp</code>、<code>yafc</code></div></div></div><footer class=footer__poweredby><p class=caption>© 2022 All Rights Reserved modao::rustacean@aliyun.com<p class=caption>© Powered by <a href=https://www.getzola.org/>Zola</a><p class=caption>© Theme: <a href=https://github.com/pawroman/zola-theme-terminimal/>Terminimal</a> by pawroman<p class=caption><a href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh rel=license>自由转载-非商用-非衍生-保持署名</a></footer></div>