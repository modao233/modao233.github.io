<!doctype html><html lang=zh-Hans-CN><head><title>modao's blog</title><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=noodp name=robots><link href=https://modao.site/style.css rel=stylesheet><link href=https://modao.site/color/green.css rel=stylesheet><link href=https://modao.site/color/background_dark.css rel=stylesheet><link href=https://modao.site/font-hack.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-N2WTGJE0M5');</script><body><div class=container><header class=header><div class=header__inner><div class=header__logo><a style="text-decoration: none;" href=https://modao.site> <div class=logo>MODAO</div> </a></div></div><nav class=menu><ul class=menu__inner><li class=active><a href=https://modao.site>Home</a><li><a href=https://modao.site/tags>Tags</a><li><a href=https://modao.site/language>Programming-Language</a><li><a href=https://modao.site/books>Books</a><li><a href=https://modao.site/links>Links</a><li><a href=https://modao.site/friend>Friend</a></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href="https://modao.site/编程语言/Linux shell/grep-egrep-fgrephe-pgrepzhi-jian-de-qu-bie/">(转载)grep，egrep，fgrep和pgrep之间的区别</a></h1><div class=post-meta-inline><span class=post-date> 2020-07-13 </span></div><div class=post-content><p>原文：https://blog.csdn.net/weixin_42558057/article/details/82758467<p>作者：<a href=https://blog.csdn.net/weixin_42558057>阿木娄</a><p>本文内容从：https://www.cnblogs.com/itech/p/5535080.html 翻译而来<p><img alt=image-20210103202952674 src=grep%EF%BC%8Cegrep%EF%BC%8Cfgrep%E5%92%8Cpgrep%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/image-20210103202952674.png><h2 id=1-grep>1、grep</h2><p>grep是“Global Regular Expressions Print”的首字母缩写词，意为全局正则表达式打印。<p>grep是一个逐行扫描指定文件或文件的程序，返回包含模式的行。模式是一种表达式，它通过将字符解释为元字符来指定一组字符串。例如，星号元字符（*）被解释为“前面元素的零个或多个”。这使用户能够在grep命令中键入一系列短字符和元字符，以使计算机向我们显示哪些文件匹配的行。<p>标准grep命令如下所示： <code>grep &LTflags> '&LTregular expression>' &LTfilename></code> grep将搜索结果打印到屏幕（stdout）并返回以下退出值：<blockquote><p>0 A match was found. 1 No match was found. >1 A syntax error was found or a file was inaccessible (even if matches were found).</blockquote><p>一些常见的标志是：<blockquote><p>-c 用于计算成功匹配的数量而不打印实际匹配 -i 以使搜索大小写不敏感 -n 在每个匹配打印输出之前打印行号 -v 以获取正则表达式的补码（即返回行不匹配） -l 打印带有与表达式匹配的行的文件的文件名</blockquote><h2 id=2-egrep>2、egrep</h2><p>egrep是“Extended Global Regular Expressions Print”的首字母缩写词。<p>egrep中的’E’表示将模式视为正则表达式。在Egrep中启用了“扩展正则表达式”缩写为“ERE”。egrep（与grep -E相同）将 +， ?， |， (， ) 作为元字符。 在基本的正则表达式（使用grep），元字符 ?， +， {， |， (， ) 失去了特殊的意义。如果你想用grep对待这些字符作为元字符，需要转义 ?， +， {， |， (，)。 例如，grep使用基本的正则表达式，其中plus按字面处理，返回任何带有加号的行。 <code>grep "+" test.txt</code><pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# grep + test.txt 
</span><span style=color:#bf616a;>search</span><span> plus test file,line 2 have a +
</span><span style=color:#bf616a;>have</span><span> + +
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>1234
</span></code></pre><p>另一方面，egrep将“+”视为元字符并返回每一行，因为plus被解释为“一次或多次”。 <code>egrep "+" test.txt</code><pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# egrep + test.txt 
</span><span style=color:#bf616a;>search</span><span> plus test file,line 1 no plus
</span><span style=color:#bf616a;>search</span><span> plus test file,line 2 have a +
</span><span style=color:#bf616a;>no</span><span> plus
</span><span style=color:#bf616a;>have</span><span> + +
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>123456
</span></code></pre><p>这里返回每一行，因为egrep将 + 视为元字符。普通grep只搜索带有文字的行 +。<h2 id=3-fgrep>3、fgrep</h2><p>fgrep是"Fixed-string Global Regular Expressions Print"的首字母缩写，意为固定字符串全局正则表达式打印。<p>fgrep（与grep -F相同）是固定的或快速的grep，其行为与grep相同，但不会将任何正则表达式元字符识别为特殊的。搜索将更快完成，因为它只处理简单的字符串而不是复杂的模式。<p>例如，如果我想在我的.bash_profile中搜索文字点<code>.</code>(dot)，那么使用grep将很困难，因为我必须避开点，因为dot是一个元字符，意思是“任何单个字符”：<pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# grep "</span><span style=color:#a3be8c;>.</span><span>" test.txt 
</span><span style=color:#bf616a;>search</span><span> dot test file,line 1 no dot
</span><span style=color:#bf616a;>search</span><span> dot test file,line 2 have a dot .
</span><span style=color:#bf616a;>no</span><span> dot
</span><span style=color:#bf616a;>have</span><span> a ...
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>123456
</span></code></pre><p>上面的命令返回test.txt的每一行。改为：<code>fgrep "." test.txt</code><pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# fgrep . test.txt 
</span><span style=color:#bf616a;>search</span><span> dot test file,line 2 have a dot .
</span><span style=color:#bf616a;>have</span><span> a ...
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>1234
</span></code></pre><p>然后只返回具有文字’.'的行。fgrep帮助我们不用再费心避开元字符。<h2 id=4-pgep>4、pgep</h2><p>pgrep是首字母缩略词，代表“Process-ID Global Regular Expressions Print”。<p>pgrep查看当前正在运行的进程，并将与选择条件匹配的进程ID列出到stdout（屏幕）。当你想要某个进程的PID时，pgrep很方便。 例如，如果我只想知道我的nginx进程的进程ID，使用<code>pgrep nginx</code>将返回进程ID 值 ，如:<pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# pgrep nginx
</span><span style=color:#bf616a;>71982
</span><span style=color:#bf616a;>71984
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>1234
</span></code></pre><p>使用-l参数返回进程ID同时显示进程名，如<code>pgrep -l nginx</code> ：<pre class=language-sh data-lang=sh style=background-color:#2b303b;color:#c0c5ce;><code class=language-sh data-lang=sh><span style=color:#bf616a;>[root@vm1 ~</span><span>]# pgrep nginx</span><span style=color:#bf616a;> -l
</span><span style=color:#bf616a;>71982</span><span> nginx
</span><span style=color:#bf616a;>71984</span><span> nginx
</span><span style=color:#bf616a;>[root@vm1 ~</span><span>]# 
</span><span style=color:#bf616a;>1234
</span></code></pre><p>---+++<p>附： <strong>1、grep命令格式<a href=https://blog.csdn.net/weixin_42558057/article/details/82758467#fn1>1</a></strong><p>grep [-acinv] [–color=auto] ‘搜寻字符串’ filename 选项与参数： -a ：将 binary 文件以 text 文件的方式搜寻数据 -c ：计算找到 ‘搜寻字符串’ 的次数 -i ：忽略大小写的不同，所以大小写视为相同 -n ：顺便输出行号 -v ：反向选择，亦即显示出没有 ‘搜寻字符串’ 内容的那一行！ –color=auto ：可以将找到的关键词部分加上颜色的显示喔！<p><strong>2、grep设置查找匹配结果颜色高亮<a href=https://blog.csdn.net/weixin_42558057/article/details/82758467#fn2>2</a></strong><p>使用<code>grep --color</code>的–color选项可以给搜索匹配结果颜色高亮（单次有效），如果要每次都能自动添加颜色，可按如下修改~/.bashrc文件：<pre class=language-shell data-lang=shell style=background-color:#2b303b;color:#c0c5ce;><code class=language-shell data-lang=shell><span>vim ~/.bashrc
</span><span>alias grep='grep --color'
</span><span>source ~/.bashrc
</span><span>123
</span></code></pre><p>–color有三个值供选择：never、always、auto。always和auto的区别就是，always会在任何情况下都给匹配字段加上颜色标记，当通过管道或重定向时就会多出一些控制字符，结果会变成 export [[1;32m[[KGREP[[m[[K_OPTIONS=’–color=always’ export [[1;32m[[KGREP[[m[[K_COLOR=‘1;32’ 而auto则只在输出到终端时才加上颜色。<p>也可以通过设置GREP_COLOR的值来指定颜色 <code>export GREP_OPTIONS='--color=auto'</code> 具体用什么颜色，可以通过 <code>export GREP_COLOR='a;b'</code>来设置，默认是1;31，即高亮的红色 ，其中: a可以选择:【0,1,4,5,7,8】<blockquote><p>0 关闭所有属性 1 设置高亮度 4 下划线 5 闪烁 7 反显 8 消隐</blockquote><p>下面是部分颜色的值<blockquote><p>30 black 31 red 32 green 33 yellow 34 blue 35 purple 36 cyan 37 white</blockquote><p>以上设置只针对当前用户有效，如果对所有用户生效，可按上述方法修改/etc/profile文件。<p><strong>3、正则表达式</strong><p>正则表达式相关文章：<ul><li>百度百科：<a href=https://blog.csdn.net/weixin_42558057/article/details/82768983>正则表达式</a><li>正则表达式（grep，egrep，fgrep） https://blog.csdn.net/dyllove98/article/details/41284705<li>菜鸟教程-正则表达式 http://www.runoob.com/regexp/regexp-tutorial.html</ul><p>---+++<ol><li>grep设置查找颜色高亮 https://blog.csdn.net/mojinchuan/article/details/51899787 <a href=https://blog.csdn.net/weixin_42558057/article/details/82758467#fnref1>↩︎</a><li>在linux下给grep命令添加颜色 http://blog.csdn.net/diy534/article/details/7025640 <a href=https://blog.csdn.net/weixin_42558057/article/details/82758467#fnref2>↩︎</a></ol></div></div></div><footer class=footer__poweredby><p class=caption>© 2022 All Rights Reserved modao::rustacean@aliyun.com<p class=caption>© Powered by <a href=https://www.getzola.org/>Zola</a><p class=caption>© Theme: <a href=https://github.com/pawroman/zola-theme-terminimal/>Terminimal</a> by pawroman<p class=caption><a href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh rel=license>自由转载-非商用-非衍生-保持署名</a></footer></div>