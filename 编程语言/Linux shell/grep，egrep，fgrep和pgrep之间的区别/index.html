<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「工作日还有多少天，休息日还剩几小时」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81grep"><span class="toc-text">1、grep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81egrep"><span class="toc-text">2、egrep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81fgrep"><span class="toc-text">3、fgrep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81pgep"><span class="toc-text">4、pgep</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		(转载)grep，egrep，fgrep和pgrep之间的区别
	</div>
	
	<div class="page-date">
		2020-07-13
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/Linux">Linux</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>原文：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82758467">https://blog.csdn.net/weixin_42558057/article/details/82758467</a></p>
<p>作者：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057">阿木娄</a></p>
<span id="more"></span>

<p>本文内容从：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/itech/p/5535080.html">https://www.cnblogs.com/itech/p/5535080.html</a> 翻译而来</p>
<p><img src="image-20210103202952674.png" alt="image-20210103202952674"></p>
<h2 id="1、grep"><a href="#1、grep" class="headerlink" title="1、grep"></a>1、grep</h2><p>grep是“Global Regular Expressions Print”的首字母缩写词，意为全局正则表达式打印。</p>
<p>grep是一个逐行扫描指定文件或文件的程序，返回包含模式的行。模式是一种表达式，它通过将字符解释为元字符来指定一组字符串。例如，星号元字符（*）被解释为“前面元素的零个或多个”。这使用户能够在grep命令中键入一系列短字符和元字符，以使计算机向我们显示哪些文件匹配的行。</p>
<p>标准grep命令如下所示：<br> <code>grep &lt;flags&gt; &#39;&lt;regular expression&gt;&#39; &lt;filename&gt;</code><br> grep将搜索结果打印到屏幕（stdout）并返回以下退出值：</p>
<blockquote>
<p>  0 A match was found.<br>   1 No match was found.<br>   &gt;1 A syntax error was found or a file was inaccessible<br>   (even if matches were found).</p>
</blockquote>
<p>一些常见的标志是：</p>
<blockquote>
<p>  -c 用于计算成功匹配的数量而不打印实际匹配<br>   -i 以使搜索大小写不敏感<br>   -n 在每个匹配打印输出之前打印行号<br>   -v 以获取正则表达式的补码（即返回行不匹配）<br>   -l 打印带有与表达式匹配的行的文件的文件名</p>
</blockquote>
<h2 id="2、egrep"><a href="#2、egrep" class="headerlink" title="2、egrep"></a>2、egrep</h2><p>egrep是“Extended Global Regular Expressions Print”的首字母缩写词。</p>
<p>egrep中的’E’表示将模式视为正则表达式。在Egrep中启用了“扩展正则表达式”缩写为“ERE”。egrep（与grep -E相同）将 +， ?， |， (， ) 作为元字符。<br> 在基本的正则表达式（使用grep），元字符 ?， +， {， |， (， ) 失去了特殊的意义。如果你想用grep对待这些字符作为元字符，需要转义 ?， +， {， |， (，)。<br> 例如，grep使用基本的正则表达式，其中plus按字面处理，返回任何带有加号的行。<br> <code>grep &quot;+&quot; test.txt</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># grep + test.txt </span><br>search plus <span class="hljs-built_in">test</span> file,line 2 have a +<br>have + +<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>1234<br></code></pre></td></tr></table></figure>

<p>另一方面，egrep将“+”视为元字符并返回每一行，因为plus被解释为“一次或多次”。<br> <code>egrep &quot;+&quot; test.txt</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># egrep + test.txt </span><br>search plus <span class="hljs-built_in">test</span> file,line 1 no plus<br>search plus <span class="hljs-built_in">test</span> file,line 2 have a +<br>no plus<br>have + +<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>123456<br></code></pre></td></tr></table></figure>

<p>这里返回每一行，因为egrep将 + 视为元字符。普通grep只搜索带有文字的行 +。</p>
<h2 id="3、fgrep"><a href="#3、fgrep" class="headerlink" title="3、fgrep"></a>3、fgrep</h2><p>fgrep是”Fixed-string Global Regular Expressions Print”的首字母缩写，意为固定字符串全局正则表达式打印。</p>
<p>fgrep（与grep -F相同）是固定的或快速的grep，其行为与grep相同，但不会将任何正则表达式元字符识别为特殊的。搜索将更快完成，因为它只处理简单的字符串而不是复杂的模式。</p>
<p>例如，如果我想在我的.bash_profile中搜索文字点<code>.</code>(dot)，那么使用grep将很困难，因为我必须避开点，因为dot是一个元字符，意思是“任何单个字符”：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># grep &quot;.&quot; test.txt </span><br>search dot <span class="hljs-built_in">test</span> file,line 1 no dot<br>search dot <span class="hljs-built_in">test</span> file,line 2 have a dot .<br>no dot<br>have a ...<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>123456<br></code></pre></td></tr></table></figure>

<p>上面的命令返回test.txt的每一行。改为：<code>fgrep &quot;.&quot; test.txt</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># fgrep . test.txt </span><br>search dot <span class="hljs-built_in">test</span> file,line 2 have a dot .<br>have a ...<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>1234<br></code></pre></td></tr></table></figure>

<p>然后只返回具有文字’.’的行。fgrep帮助我们不用再费心避开元字符。</p>
<h2 id="4、pgep"><a href="#4、pgep" class="headerlink" title="4、pgep"></a>4、pgep</h2><p>pgrep是首字母缩略词，代表“Process-ID Global Regular Expressions Print”。</p>
<p>pgrep查看当前正在运行的进程，并将与选择条件匹配的进程ID列出到stdout（屏幕）。当你想要某个进程的PID时，pgrep很方便。<br> 例如，如果我只想知道我的nginx进程的进程ID，使用<code>pgrep nginx</code>将返回进程ID 值 ，如:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># pgrep nginx</span><br>71982<br>71984<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>1234<br></code></pre></td></tr></table></figure>

<p>使用-l参数返回进程ID同时显示进程名，如<code>pgrep -l nginx</code> ：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">[root@vm1 ~]<span class="hljs-comment"># pgrep nginx -l</span><br>71982 nginx<br>71984 nginx<br>[root@vm1 ~]<span class="hljs-comment"># </span><br>1234<br></code></pre></td></tr></table></figure>

<hr>
<p>附：<br> <strong>1、grep命令格式<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82758467#fn1">1</a></strong></p>
<p>grep [-acinv] [–color=auto] ‘搜寻字符串’ filename<br> 选项与参数：<br> -a ：将 binary 文件以 text 文件的方式搜寻数据<br> -c ：计算找到 ‘搜寻字符串’ 的次数<br> -i ：忽略大小写的不同，所以大小写视为相同<br> -n ：顺便输出行号<br> -v ：反向选择，亦即显示出没有 ‘搜寻字符串’ 内容的那一行！<br> –color=auto ：可以将找到的关键词部分加上颜色的显示喔！</p>
<p><strong>2、grep设置查找匹配结果颜色高亮<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82758467#fn2">2</a></strong></p>
<p>使用<code>grep --color</code>的–color选项可以给搜索匹配结果颜色高亮（单次有效），如果要每次都能自动添加颜色，可按如下修改~/.bashrc文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">vim ~/.bashrc<br>alias grep=&#x27;grep --color&#x27;<br>source ~/.bashrc<br>123<br></code></pre></td></tr></table></figure>

<p>–color有三个值供选择：never、always、auto。always和auto的区别就是，always会在任何情况下都给匹配字段加上颜色标记，当通过管道或重定向时就会多出一些控制字符，结果会变成<br> export [[1;32m[[KGREP[[m[[K_OPTIONS=’–color=always’<br> export [[1;32m[[KGREP[[m[[K_COLOR=‘1;32’<br> 而auto则只在输出到终端时才加上颜色。</p>
<p>也可以通过设置GREP_COLOR的值来指定颜色<br> <code>export GREP_OPTIONS=&#39;--color=auto&#39;</code><br> 具体用什么颜色，可以通过<br> <code>export GREP_COLOR=&#39;a;b&#39;</code>来设置，默认是1;31，即高亮的红色 ，其中:<br> a可以选择:【0,1,4,5,7,8】</p>
<blockquote>
<p>  0 关闭所有属性<br>   1 设置高亮度<br>   4 下划线<br>   5 闪烁<br>   7 反显<br>   8 消隐</p>
</blockquote>
<p>下面是部分颜色的值</p>
<blockquote>
<p>  30 black<br>   31 red<br>   32 green<br>   33 yellow<br>   34 blue<br>   35 purple<br>   36 cyan<br>   37 white</p>
</blockquote>
<p>以上设置只针对当前用户有效，如果对所有用户生效，可按上述方法修改/etc/profile文件。</p>
<p><strong>3、正则表达式</strong></p>
<p>正则表达式相关文章：</p>
<ul>
<li>  百度百科：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82768983">正则表达式</a></li>
<li>  正则表达式（grep，egrep，fgrep） <a target="_blank" rel="noopener" href="https://blog.csdn.net/dyllove98/article/details/41284705">https://blog.csdn.net/dyllove98/article/details/41284705</a></li>
<li>  菜鸟教程-正则表达式 <a target="_blank" rel="noopener" href="http://www.runoob.com/regexp/regexp-tutorial.html">http://www.runoob.com/regexp/regexp-tutorial.html</a></li>
</ul>
<hr>
<ol>
<li> grep设置查找颜色高亮 <a target="_blank" rel="noopener" href="https://blog.csdn.net/mojinchuan/article/details/51899787">https://blog.csdn.net/mojinchuan/article/details/51899787</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82758467#fnref1">↩︎</a></li>
<li> 在linux下给grep命令添加颜色 <a target="_blank" rel="noopener" href="http://blog.csdn.net/diy534/article/details/7025640">http://blog.csdn.net/diy534/article/details/7025640</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42558057/article/details/82758467#fnref2">↩︎</a></li>
</ol>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>