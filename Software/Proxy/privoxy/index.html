<!DOCTYPE html>
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>modao</title>
	
	<script type="text/javascript" charset="utf-8">
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?36479f1e15841da95f9e92a25b010d23";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<meta name="generator" content="Hexo 5.4.0"></head>
  <body>
	
      
<link rel="stylesheet" href="/css/navigatebar.css">


<div class="navigatebar">
	<div class="navigatebar-button navigatebar-mine">
    <a href="/">modao</a>
	</div>
	
	
        <div class="navigatebar-button">
          <a href="/">Home</a>
        </div>
	
        <div class="navigatebar-button">
          <a href="/categories">Categories</a>
        </div>
	
        <div class="navigatebar-button">
          <a href="/links">Friends</a>
        </div>
	
        <div class="navigatebar-button">
          <a href="/sites">Sites</a>
        </div>
	
        <div class="navigatebar-button">
          <a href="/stars">Stars</a>
        </div>
	
</div>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">


<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Privoxy"><span class="toc-text">安装 Privoxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91"><span class="toc-text">代理转发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-text">配置文件说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">主配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6-Privoxy-%E7%9A%84%E2%80%9C%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E5%8F%8A%E7%BB%91%E5%AE%9A%E5%9C%B0%E5%9D%80%E2%80%9D"><span class="toc-text">如何定制 Privoxy 的“监听端口及绑定地址”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6%E2%80%9CHTTP-%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91%E2%80%9D"><span class="toc-text">如何定制“HTTP 代理转发”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6%E2%80%9CSOCKS-%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91%E2%80%9D"><span class="toc-text">如何定制“SOCKS 代理转发”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E2%80%9C%E8%AE%BF%E9%97%AE%E7%9A%84%E7%BD%91%E7%AB%99%E2%80%9D%E5%88%86%E6%B5%81%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BF%BB%E5%A2%99%E9%80%9A%E9%81%93"><span class="toc-text">根据“访问的网站”分流到不同的翻墙通道</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E5%88%87%E6%8D%A2"><span class="toc-text">代理切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%EF%BC%9A"><span class="toc-text">参考：</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		(转载)Privoxy教程
	</div>
	
	<div class="page-date">
		2020-11-24
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/Proxy">Proxy</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>作者：hongdada</p>
<p>出处：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hongdada/p/10787924.html">https://www.cnblogs.com/hongdada/p/10787924.html</a></p>
<p>版权：本作品采用「<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a>」许可协议进行许可。</p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Privoxy 是一个 代理软件</p>
<p>简单说，就是进出你电脑的流量守门人。借由 Privoxy，我们可以控制出去的请求，还可以改写返回的响应。不必要的请求 – 比如视频广告的地址、图片广告的地址，我们可以直接 <code>block</code> 掉；不必要的响应内容 – 比如页面中的文字广告，我们可以借由 <code>filter</code> 过滤掉，不让它们在浏览器页面上显示。</p>
<h2 id="安装-Privoxy"><a href="#安装-Privoxy" class="headerlink" title="安装 Privoxy"></a>安装 Privoxy</h2><p><a target="_blank" rel="noopener" href="https://www.privoxy.org/faq/installation.html#WHICHOS">Privoxy 支持的平台</a>非常多：</p>
<p>针对各个平台，Privoxy 均提供有<a target="_blank" rel="noopener" href="https://www.privoxy.org/user-manual/installation.html#INSTALLATION-PACK-WIN">安装说明</a>。</p>
<p>下面简单提一下几个平台。</p>
<ol>
<li><p>Windows 平台</p>
<p> Windows 平台下的安装通常都可视化，下载安装包，双击，然后根据提示，一路点击即可安装。</p>
</li>
<li><p>Linux 平台</p>
<p> 多数时候可以通过仓库安装。</p>
<p> 比如 Ubuntu：</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">sudo apt-get install privoxy<br></code></pre></td></tr></table></figure>

<p> 又比如 openSUSE：</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">sudo zypper install privoxy<br></code></pre></td></tr></table></figure></li>
<li><p>mac 平台</p>
<p> mac 上如果有安装 homebrew，则可以执行 <code>brew install privoxy</code> 来安装 Privoxy。</p>
</li>
</ol>
<p>实在喜欢折腾的，就下载<a target="_blank" rel="noopener" href="http://sourceforge.net/projects/ijbswa/files/Sources/">源代码</a>自己编译安装。</p>
<h2 id="代理转发"><a href="#代理转发" class="headerlink" title="代理转发"></a>代理转发</h2><h3 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h3><h3 id="主配置文件"><a href="#主配置文件" class="headerlink" title="主配置文件"></a>主配置文件</h3><p>　　对于 Windows 系统，主配置文件放置在跟 privoxy.exe 相同的目录下，文件名为 config.txt</p>
<p>　　对于“Linux/Unix”，主配置文件放置在 /etc/privoxy 目录下，文件名为 config</p>
<p>　　Privoxy 的配置文件，都是纯文本文件。如果某一行是以 井号 # 开头，说明这一行是注释。</p>
<h3 id="如何定制-Privoxy-的“监听端口及绑定地址”"><a href="#如何定制-Privoxy-的“监听端口及绑定地址”" class="headerlink" title="如何定制 Privoxy 的“监听端口及绑定地址”#"></a>如何定制 Privoxy 的“监听端口及绑定地址”<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hongdada/p/10787924.html#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6-privoxy-%E7%9A%84%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E5%8F%8A%E7%BB%91%E5%AE%9A%E5%9C%B0%E5%9D%80">#</a></h3><p>　　先来说最最基本的配置——设定 Privoxy 的监听端口号和绑定的地址。</p>
<p>　　介绍这个的目的，是让你先稍微熟悉一下——如何修改 Privoxy 的主配置文件。因为后面的定制，需要经常去修改它。</p>
<p>　　Privoxy 的监听端口号，默认是 8118，默认绑定的地址是 127.0.0.1（这个地址代表“当前系统”）。由于默认是绑定在 127.0.0.1 这个地址，所以只有当前系统的软件才可以连接到 Privoxy 的监听端口。</p>
<p>　　如果你希望其它操作系统的软件也可以连接到 Privoxy 的监听端口，可以修改绑定的地址，把 127.0.0.1 改为 0.0.0.0 表示绑定在“任意地址”。</p>
<p>　　操作步骤如下：</p>
<p>　　找到“主配置文件”，用你比较顺手的文本编辑器打开，在尾部增加如下一行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">listen-address  0.0.0.0:8118<br></code></pre></td></tr></table></figure>

<p>　　如果你不喜欢 8118 这个端口号，也可以换成别的。</p>
<p>　　修改完之后，启动 Privoxy，然后在命令行使用 netstat 命令，就可以看到多出来一个 8118 的端口。</p>
<h3 id="如何定制“HTTP-代理转发”"><a href="#如何定制“HTTP-代理转发”" class="headerlink" title="如何定制“HTTP 代理转发”#"></a>如何定制“HTTP 代理转发”<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hongdada/p/10787924.html#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6http-%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91">#</a></h3><p>　 “HTTP 代理转发”就是说：Privoxy 把自己收到的 HTTP 请求转给另一个 HTTP 代理，再由该代理转到你最终访问的网站。</p>
<p>　　HTTP 代理转发的语法如下（把该语法添加在“主配置文件”尾部）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward  target_pattern  http_proxy:port<br></code></pre></td></tr></table></figure>

<p>　　语法解释：</p>
<p>　　该命令分3段，各段之间用空格分开（可以用单个空格，也可以多个空格）</p>
<p>　　第1段的 forward 是固定的，表示：这是 HTTP 转发</p>
<p>　　第2段的 target_pattern 是个变量，表示：这次转发只针对特定模式的 HTTP 访问目标</p>
<p>　　第3段的 http_proxy:port 也是变量，表示：要转发给某个 HTTP 代理（IP 冒号 端口）。如果“第3段”只写一个单独的小数点，表示直连（不走代理）。</p>
<p>举例1</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward  /  127.0.0.1:8080<br></code></pre></td></tr></table></figure>

<p>上述这句表示：</p>
<p>把所有的 HTTP 请求都转发给本机（127.0.0.1 表示本机）的 8080 端口</p>
<p><strong>target_pattern 设置为“单个斜线”，表示匹配“所有的 URL 网址”</strong></p>
<p>举例2</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward  .google.com/  127.0.0.1:8080<br></code></pre></td></tr></table></figure>

<p>上述这句表示：</p>
<p>如果 HTTP 请求是发送给 .google.com 这个域名的下级域名，那么就把该 HTTP 请求转发给本机（127.0.0.1 表示本机）的 8080 端口</p>
<p>.google.com 的写法，可以匹配如下这类域名：</p>
<p><a target="_blank" rel="noopener" href="http://www.google.com/">www.google.com</a></p>
<p>mail.google.com</p>
<p>plus.google.com</p>
<p>（以此类推）</p>
<p>补充说明：</p>
<p>本例子中，target_pattern 变量是 .google.com/</p>
<p>这个写法表示：该变量只匹配域名，不匹配网页的路径。根据 Privoxy 的语法规则，最末尾的斜线可以省略。</p>
<p>因此，本例子也可以等价地写为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward  .google.com  127.0.0.1:8080　<br></code></pre></td></tr></table></figure>

<p>举例3</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward-socks5 .onion localhost:9050 .<br></code></pre></td></tr></table></figure>

<p>上述这句表示：</p>
<p>把顶级域名为 .onion 的 HTTP 请求都转发给本机（localhost 也可以用来表示本机，相当于 127.0.0.1）的 TOR SOCKS 端口</p>
<p>补充说明：</p>
<p>普通互联网的域名，顶级域名不会是 .onion</p>
<p>这个顶级域名，是专门用于 TOR 暗网的。因此，本例子就是用来转发 TOR 暗网的 HTTP 请求，让 Privoxy 把这类请求转给 TOR 的 SOCKS 端口。</p>
<h3 id="如何定制“SOCKS-代理转发”"><a href="#如何定制“SOCKS-代理转发”" class="headerlink" title="如何定制“SOCKS 代理转发”#"></a>如何定制“SOCKS 代理转发”<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hongdada/p/10787924.html#%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6socks-%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91">#</a></h3><p>　　所谓的“SOCKS 代理转发”，就是说：Privoxy 把自己收到的 HTTP 请求转给另一个 SOCKS 代理；如果需要的话，还可以由这个 SOCKS 代理再转给另一个 HTTP 代理。</p>
<p>示意图1</p>
<p>（先转发到 SOCKS 代理，然后转到目标站）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜<br>浏览器｜　　　　　｜Ｐｒｉｖｏｘｙ｜　　　　　｜ＳＯＣＫＳ代理｜　　　　　｜目标网站<br>　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜<br></code></pre></td></tr></table></figure>

<p>　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜</p>
<p>　　　｜ＨＴＴＰ　｜　　　　　　　｜ＳＯＣＫＳ｜　　　　　　　｜ＨＴＴＰ　｜</p>
<p>示意图2</p>
<p>（先转发到 SOCKS 代理，再转发到某个 HTTP 代理，最后才转到目标站）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　　｜＝＝＝＝＞｜　　　　　　｜＝＝＝＝＞｜<br>浏览器｜　　　　　｜Ｐｒｉｖｏｘｙ｜　　　　　｜ＳＯＣＫＳ代理｜　　　　　｜ＨＴＴＰ代理｜　　　　　｜目标网站<br>　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　　｜＜＝＝＝＝｜　　　　　　｜＜＝＝＝＝｜<br></code></pre></td></tr></table></figure>

<p>　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　　｜此阶段是　｜　　　　　　｜此阶段是　｜</p>
<p>　　　｜ＨＴＴＰ　｜　　　　　　　｜ＳＯＣＫＳ｜　　　　　　　｜ＨＴＴＰ　｜　　　　　　｜ＨＴＴＰ　｜</p>
<p>　　SOCKS 代理转发，包括如下几种语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward-socks4   target_pattern  socks_proxy:port  http_proxy:port<br>forward-socks4a  target_pattern  socks_proxy:port  http_proxy:port<br>forward-socks5   target_pattern  socks_proxy:port  http_proxy:port<br>forward-socks5t  target_pattern  socks_proxy:port  http_proxy:port<br></code></pre></td></tr></table></figure>

<p>　　语法解释：</p>
<p>　　该命令分4段，各段之间用空格分开（可以用单个空格，也可以多个空格）</p>
<p>　　第1段是以 forward 开头的，表示 SOCKS 转发的类型。目前支持 4 种类型。</p>
<p>前面3种（forward-socks4 forward-socks4a forward-socks5）分别对应不同版本的 SOCKS 协议。</p>
<p>最后一种 forward-socks5t 比较特殊，是基于 SOCKS5 协议版本，但是加入针对 TOR 的扩展支持（优化了性能）。只有转发给 TOR 的 SOCKS 代理，才需要用这个类型。</p>
<p>　　第2段的 target_pattern 是个变量，表示：这次转发只针对特定模式的 HTTP 访问目标</p>
<p>　　第3段的 socks_proxy:port 也是变量，表示：要转发给某个 SOCKS 代理（IP 冒号 端口）</p>
<p>　　第4段的 http_proxy:port 也是变量，表示：在经由前面的 SOCKS 代理之后，再转发给某个 HTTP 代理（IP 冒号 端口）</p>
<p><strong>第4段如果写成一个单独的小数点，相当于“示意图1”；如果第4段填写了具体的 IP 和端口，相当于“示意图2”。</strong></p>
<p>举例1</p>
<p>　　如果你本机安装了 TOR Browser 软件包，可以使用如下语法，把 Privoxy 收到的 HTTP 请求转发给 TOR Browser 内置的 SOCKS 代理。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward-socks5  /  127.0.0.1:9150  .<br></code></pre></td></tr></table></figure>

<h3 id="根据“访问的网站”分流到不同的翻墙通道"><a href="#根据“访问的网站”分流到不同的翻墙通道" class="headerlink" title="根据“访问的网站”分流到不同的翻墙通道#"></a>根据“访问的网站”分流到不同的翻墙通道<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hongdada/p/10787924.html#%E6%A0%B9%E6%8D%AE%E8%AE%BF%E9%97%AE%E7%9A%84%E7%BD%91%E7%AB%99%E5%88%86%E6%B5%81%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BF%BB%E5%A2%99%E9%80%9A%E9%81%93">#</a></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward  /  .<br>forward  .youtube.com  127.0.0.1:8000<br>forward-socks5  program-think.blogspot.com  127.0.0.1:9150  .<br></code></pre></td></tr></table></figure>

<p>第1行表示：因为匹配的目标是 / 表示匹配“所有的网址”。所以这条可以看成是“默认规则”。（<strong>在 Privoxy 里面，“后面的规则”会覆盖“前面的规则”，所以“默认规则”总是写在开头</strong>）。</p>
<p>第2行表示：凡是 .youtube.com 的下级域名都走 127.0.0.1:8000 的 HTTP 代理。</p>
<p>第3行表示：访问 program-think.blogspot.com 站点都走 127.0.0.1:9150 的 SOCKS 代理。（提醒一下：此行末尾的小数点别漏看了）</p>
<p>例如，安装SSCap4.0以后，内网不可以访问，可以修改配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">forward-socks5 / 127.0.0.1:1080 .<br>forward  18.16.*.*  .<br></code></pre></td></tr></table></figure>

<p>这样18.16.*.*的内网就即可访问。</p>
<h2 id="代理切换"><a href="#代理切换" class="headerlink" title="代理切换"></a>代理切换</h2><p>如果想把不同的网址切换到不同的代理，就使用action功能，可以使用user.action文件，</p>
<p>或者自定义一个文件，在config中添加下文，这表示添加一个动作文件，文件名是pac.action。在同目录下建立文件“pac.action”，并写入配置。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">actionsfile pac.action<br></code></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&#123;&#123;alias&#125;&#125;<br>direct      = +forward-override&#123;forward .&#125;<br>ssh         = +forward-override&#123;forward-socks5 127.0.0.1:7000 .&#125;<br>gae         = +forward-override&#123;forward 127.0.0.1:8000&#125; <br>default     = direct<br>#==========默认代理==========<br>&#123;default&#125;<br>/<br>#==========直接连接==========<br>&#123;direct&#125; <br>.edu.cn<br>202.117.255.<br>222.24.211.70<br>#==========SSH代理==========<br>&#123;ssh&#125;<br>.launchpad.net<br>#==========GAE代理==========<br>&#123;gae&#125;<br>.webupd8.org<br>222.24.211.70<br></code></pre></td></tr></table></figure>

<p>上面的部分定义了一些缩写，注意http代理和socks代理的写法不同。</p>
<p>后面的如{direct}部分定义对哪些地址应用这个代理。其中“/“表示全部地址。注意一个URL的域名部分只能用glob匹配，而地址部分可以用复杂的正则表达式。具体可以看Privoxy的文档</p>
<p>这些规则在后面的会覆盖前面的，比如222.24.211.70实际是以gae代理访问的。这样可以实现一些稍微复杂的功能</p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><p><a target="_blank" rel="noopener" href="https://blog.zfanw.com/privoxy-tutorial/">Privoxy 教程</a></p>
<p><a target="_blank" rel="noopener" href="https://program-think.blogspot.com/2014/12/gfw-privoxy.html">如何用 Privoxy 辅助翻墙？</a></p>
<p><a target="_blank" rel="noopener" href="https://www.igfw.net/archives/1178">强大的代理调度器代理Privoxy</a></p>
<p><a target="_blank" rel="noopener" href="https://www.lainme.com/doku.php/blog/2011/04/privoxy_%E5%B9%BF%E5%91%8A%E8%BF%87%E6%BB%A4%E5%92%8C%E8%87%AA%E5%8A%A8%E4%BB%A3%E7%90%86%E5%88%87%E6%8D%A2">privoxy——广告过滤和自动代理切换</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5c91ff5ee51d4534446edb9a">polipo/privoxy 实现 Linux 系统全局/自动代理</a></p>
<p><a target="_blank" rel="noopener" href="https://paper.tuisec.win/detail/e7c62db3dd697b7">我的上网技巧</a></p>

	</div>
</div>
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>
<script>
    function setClipboardText(event){
        
        let clipboardData = event.clipboardData || window.clipboardData;
        
        if (!clipboardData) { return; }
        event.preventDefault();
        
        let text = window.getSelection().toString();
		    
        if (text) {
            
            event.preventDefault();
            
            var copyright = '\n\n'
            + '\n作品采用 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议 进行许可'
            + '\n著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。'
            + '\n作者: modao'
            + '\n邮箱: rustacean@aliyun.com'
            + '\n原文地址: https://modao.site/Software/Proxy/privoxy/'
			
            clipboardData.setData('text/plain', text + copyright);
    
        }
    };
	
    var contents = document.getElementsByClassName("content-area");
   
    contents[0].addEventListener('copy',function(e){
        setClipboardText(e);
    });

</script>
    
  </body>
</html>