<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「工作日还有多少天，休息日还剩几小时」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%81%E4%B9%A6%E4%B8%8D%E5%AE%89%E5%85%A8"><span class="toc-text">证书不安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8re%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E6%97%B6%E7%9A%84%E9%94%99%E8%AF%AF"><span class="toc-text">使用re正则表达式匹配时的错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E4%B8%ADappend%E4%B8%8Eextend%E7%9A%84%E7%94%A8%E6%B3%95%E5%8C%BA%E5%88%AB"><span class="toc-text">Python中append与extend的用法区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#selenium-python%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E4%B9%8B%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D"><span class="toc-text">selenium+python自动化测试之页面元素定位</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		python爬虫-记录踩过的一些坑
	</div>
	
	<div class="page-date">
		2019-11-10
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/python">python</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>python爬虫-记录踩过的一些坑</p>
<span id="more"></span>

<h2 id="证书不安全"><a href="#证书不安全" class="headerlink" title="证书不安全"></a>证书不安全</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zrmw/p/9869210.html">InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised.解决办法</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> urllib3<br>urllib3.disable_warnings()<br></code></pre></td></tr></table></figure>

<h2 id="使用re正则表达式匹配时的错误"><a href="#使用re正则表达式匹配时的错误" class="headerlink" title="使用re正则表达式匹配时的错误"></a>使用re正则表达式匹配时的错误</h2><p>报错信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">File “C:\Python35\lib\re.py”, line 213, in findall<br>return _compile(pattern, flags).findall(string)<br>TypeError: cannot use a string pattern on a bytes-like object<br></code></pre></td></tr></table></figure>

<p>出错的主要原因是因为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">TypeError: can’t use a string pattern on a bytes-like object.<br>html用decode(‘utf-8’)进行解码，由bytes变成string。<br>py3的urlopen返回的不是string是bytes。<br></code></pre></td></tr></table></figure>
<h2 id="Python中append与extend的用法区别"><a href="#Python中append与extend的用法区别" class="headerlink" title="Python中append与extend的用法区别"></a>Python中append与extend的用法区别</h2><p>append整体添加</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">l1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, ]<br>l1.append([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, ])<br><span class="hljs-comment"># l1.append(*[6, 7, 8, 9, ]) #会报错</span><br><span class="hljs-built_in">print</span>(l1)<br>l1.extend([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])<br><span class="hljs-built_in">print</span>(l1)<br></code></pre></td></tr></table></figure>
<p>只能接受一个参数，如果出现打散的情况，还是会被识别成多个参数，因为程序执行执行是从左到右，从上倒下执行的，当出现时这个列表已经被打散了，因而，会被程序识别成被传入了多个参数</p>
<p>extend逐个添加</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">l1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, ]<br>l1.extend([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])<br><span class="hljs-built_in">print</span>(l1)<br>l1.extend(<span class="hljs-string">&#x27;abc&#x27;</span>)<br><span class="hljs-built_in">print</span>(l1)<br>l1.extend(<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment"># 也是可迭代对象</span><br><span class="hljs-built_in">print</span>(l1)<br><span class="hljs-comment"># l1.extend(1) # 报错，不可迭代</span><br><span class="hljs-built_in">print</span>(l1)<br><br><span class="hljs-comment"># 输出</span><br><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p>extend在执行添加的时候，被传入的参数必须是<strong>可迭代对象</strong>，这样通过迭代就解决了同时传入多个参数的问题，如果你还不知道可迭代对象，放心，你很快就会知道的</p>
<h2 id="selenium-python自动化测试之页面元素定位"><a href="#selenium-python自动化测试之页面元素定位" class="headerlink" title="selenium+python自动化测试之页面元素定位"></a>selenium+python自动化测试之页面元素定位</h2><p><a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_aed19c1f0102wl0y.html">通过xpath相对路径查找元素方法</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/kenD/p/11192657.html">selenium 操作 获取动态页面数据</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhenwei66/p/8406201.html">Python之excel文件追加内容</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><br><span class="hljs-keyword">from</span> xlrd <span class="hljs-keyword">import</span> open_workbook<br><span class="hljs-keyword">from</span> xlutils.copy <span class="hljs-keyword">import</span> copy<br><br>r_xls = open_workbook(<span class="hljs-string">&quot;test.xls&quot;</span>) <span class="hljs-comment"># 读取excel文件</span><br>row = r_xls.sheets()[<span class="hljs-number">0</span>].nrows <span class="hljs-comment"># 获取已有的行数</span><br>excel = copy(r_xls) <span class="hljs-comment"># 将xlrd的对象转化为xlwt的对象</span><br>table = excel.get_sheet(<span class="hljs-number">0</span>) <span class="hljs-comment"># 获取要操作的sheet</span><br><br><span class="hljs-comment">#对excel表追加一行内容</span><br>table.write(row, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;内容1&#x27;</span>) <span class="hljs-comment">#括号内分别为行数、列数、内容</span><br>table.write(row, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;内容2&#x27;</span>)<br>table.write(row, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;内容3&#x27;</span>)<br><br>excel.save(<span class="hljs-string">&quot;test.xls&quot;</span>) <span class="hljs-comment"># 保存并覆盖文件</span><br></code></pre></td></tr></table></figure>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>