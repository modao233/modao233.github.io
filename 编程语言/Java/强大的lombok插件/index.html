<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「工作日还有多少天，休息日还剩几小时」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A"><span class="toc-text">更多</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		IDEA的lombok插件
	</div>
	
	<div class="page-date">
		2021-01-13
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/Java">Java</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>IDEA的lombok插件</p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Lombok项目是一种自动接通你的编辑器和构建工具的一个Java库。</p>
<p>在Java编程时，写完字段后，需要一个一个去写getter和setter方法。在使用Idea编程时，可以按住ALT+INSERT键，让IDE自动生成getter, setter, toString等方法。然而，当一个类的字段特别多时，整个文件看起来将非常不简洁。所幸IDEA提供了一款lombok插件，可以在代码阶段，通过添加注解的形式，省去手写getter, setter的麻烦。</p>
<p>而且，当我们的变量发生改变时，不再需要修改对应的getter、setter方法，lombok帮我们在运行的过程中自动生成上述方法，编码更灵活。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>首先，在IDEA安装 lombok 插件</p>
<p>接着，在项目的pom文件中添加lombok依赖（版本自行选择），注意此处scope填写provided，代表这个包不需要打包发布，仅编译时需要用到，且已有提供方。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.16.18<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>然后，在模型类上，添加注解 @Data，即可省去手写getter, setter, toString的麻烦。</p>
<p><strong>需要注意的是，一旦启用lombok插件，那么团队中其他成员也必须安装此插件，否则会编译报错。</strong></p>
<h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p><strong>lombok中的常用注解</strong></p>
<ul>
<li><p>  @Setter ：在JavaBean或类JavaBean中使用，使用此注解会生成对应的setter方法；</p>
</li>
<li><p>  @Getter：在JavaBean或类JavaBean中使用，使用此注解会生成对应的getter方法；</p>
</li>
<li><p>  @ToString：在JavaBean或类JavaBean中使用，使用此注解会自动重写对应的toStirng方法；</p>
</li>
<li><p>  @NoArgsConstructor：在JavaBean或类JavaBean中使用，使用此注解会生成对应的无参构造方法；</p>
</li>
<li><p>  @HashCode：</p>
</li>
<li><p>  @Equals：</p>
</li>
<li><p>  @CanEqual：</p>
</li>
<li><p>  @Data：在JavaBean或类JavaBean中使用，这个注解包含范围最广，它包含上述注解，即当使用当前注解时，会自动生成包含的所有方法；</p>
</li>
<li><p>  @AllArgsConstructor：在JavaBean或类JavaBean中使用，使用此注解会生成对应的有参构造方法；</p>
</li>
<li><p>  @Log(这是一个泛型注解，具体有很多种形式)</p>
</li>
<li><p>@EqualsAndHashCode：在JavaBean或类JavaBean中使用，使用此注解会自动重写对应的equals方法和hashCode方法；</p>
<ul>
<li>  此注解会生成<code>equals(Object other)</code> 和 <code>hashCode()</code>方法。</li>
<li>  它默认使用非静态，非瞬态的属性</li>
<li>  可通过参数<code>exclude</code>排除一些属性</li>
<li>  可通过参数<code>of</code>指定仅使用哪些属性</li>
<li>  它默认仅使用该类中定义的属性且不调用父类的方法</li>
<li>  可通过<code>callSuper=true</code>解决上一点问题。让其生成的方法中调用父类的方法。</li>
</ul>
</li>
<li><p>  @Slf4j：在需要打印日志的类中使用，当项目中使用了slf4j打印日志框架时使用该注解，会简化日志的打印流程，只需调用info方法即可；</p>
</li>
<li><p>  @Log4j：在需要打印日志的类中使用，当项目中使用了log4j打印日志框架时使用该注解，会简化日志的打印流程，只需调用info方法即可；</p>
</li>
</ul>
<p><strong>在使用以上注解需要处理参数时，处理方法如下（以@ToString注解为例，其他注解同@ToString注解）：</strong></p>
<p>@ToString(exclude=”column”)</p>
<p>意义：排除column列所对应的元素，即在生成toString方法时不包含column参数；</p>
<p>@ToString(exclude={“column1”,”column2”})</p>
<p>意义：排除多个column列所对应的元素，其中间用英文状态下的逗号进行分割，即在生成toString方法时不包含多个column参数；</p>
<p>@ToString(of=”column”)</p>
<p>意义：只生成包含column列所对应的元素的参数的toString方法，即在生成toString方法时只包含column参数；；</p>
<p>@ToString(of={“column1”,”column2”})</p>
<p>意义：只生成包含多个column列所对应的元素的参数的toString方法，其中间用英文状态下的逗号进行分割，即在生成toString方法时只包含多个column参数；</p>
<p>@Date一般和@EqualsAndHashCode同时使用，因为：</p>
<p>通过官方文档，可以得知，当使用@Data注解时，则有了@EqualsAndHashCode注解，那么就会在此类中存在equals(Object other) 和 hashCode()方法，且不会使用父类的属性，这就导致了可能的问题。</p>
<p>比如，有多个类有相同的部分属性，把它们定义到父类中，恰好id（数据库主键）也在父类中，那么就会存在部分对象在比较时，它们并不相等，却因为lombok自动生成的equals(Object other) 和 hashCode()方法判定为相等，从而导致出错。</p>
<p>修复此问题的方法很简单：</p>
<ol>
<li><p> 使用@Getter @Setter @ToString代替@Data并且自定义equals(Object other) 和 hashCode()方法，比如有些类只需要判断主键id是否相等即足矣。</p>
</li>
<li><p> 或者使用在使用@Data时同时加上@EqualsAndHashCode(callSuper=true)注解。</p>
</li>
</ol>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>