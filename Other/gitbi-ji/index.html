<!doctype html><html lang=zh-Hans-CN><head><title>modao's blog</title><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=noodp name=robots><link href=https://modao.site/style.css rel=stylesheet><link href=https://modao.site/color/green.css rel=stylesheet><link href=https://modao.site/color/background_dark.css rel=stylesheet><link href=https://modao.site/font-hack.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-N2WTGJE0M5');</script><body><div class=container><header class=header><div class=header__inner><div class=header__logo><a style="text-decoration: none;" href=https://modao.site> <div class=logo>MODAO</div> </a></div></div><nav class=menu><ul class=menu__inner><li class=active><a href=https://modao.site>Home</a><li><a href=https://modao.site/tags>Tags</a><li><a href=https://modao.site/language>Programming-Language</a><li><a href=https://modao.site/books>Books</a><li><a href=https://modao.site/links>Links</a><li><a href=https://modao.site/friend>Friend</a></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://modao.site/Other/gitbi-ji/>Git笔记</a></h1><div class=post-meta-inline><span class=post-date> 2020-11-10 </span></div><span class=post-tags-inline> :: tags:  <a class=post-tag href=https://modao.site/tags/git/>#Git</a></span><div class=post-content><p>主要内容来自参考文章，以个人理解整理。<h2 id=git-add-he-git-add-de-qu-bie>git add . 和 git add * 的区别</h2><p><code>git add .</code>：把本地所有untrack的文件都加入暂存区，并且会根据.gitignore做过滤<p><code>git add *</code>：忽略.gitignore把任何文件都加入<h2 id=shan-chu-github-shang-repository-li-de-wen-jian>删除 GitHub 上 repository 里的文件</h2><p>代码 push 到 GitHub 上后，便 rm 了本地 repository 的某个文件，如何也删除掉 GitHub 上的这个文件呢<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>git add .
</span><span>git commit -a -m ""
</span><span>git push
</span></code></pre><p><code>git add</code> 只能加入原来没有被跟踪的文件,没有把删除这个行为也加入版本控制，-<code>commit</code>时添加 <code>-a</code> 选项。<h2 id=che-xiao-git-commit-de-nei-rong>撤销 git commit 的内容</h2><pre style=background-color:#2b303b;color:#c0c5ce;><code><span>git reset --soft HEAD^
</span></code></pre><p><code>HEAD^</code>的意思是上一个版本，也可以写成<code>HEAD~1</code><p>如果你进行了2次commit，想都撤回，可以使用<code>HEAD~2</code><p>其他参数：<table><thead><tr><th>参数<th>意思<tbody><tr><td>--mixed<td>不删除工作空间改动代码，撤销commit，并且撤销<code>git add . </code>操作。<br>这个为默认参数，git reset --mixed HEAD^ 和 git reset HEAD^ 效果是一样的。<tr><td>--soft<td>不删除工作空间改动代码，撤销commit，不撤销<code>git add .</code><tr><td>--hard<td>删除工作空间改动代码，撤销commit，撤销<code>git add .</code><br>注意完成这个操作后，就恢复到了上一次的commit状态。</table><p>如果commit注释写错了，只是想改一下注释，只需要：<pre style=background-color:#2b303b;color:#c0c5ce;><code><span>git commit --amend
</span></code></pre><p>此时会进入默认vim编辑器，修改注释完毕后保存就好了。<h2 id=gitmo-ren-bu-guan-xin-da-xiao-xie>git默认不关心大小写</h2><p>git是默认不区分大小写的，如果先有一个Atest文件夹，后来将文件夹的名称改为了atest，然而在Github上是不会将大写改为小写的。<p>进入.git文件夹，将config文件的 <code>ignorecase=true</code> 改为 <code>ignorecase=false</code>。<h2 id=gitwen-ti>git问题</h2><p>假如你刚clone了远程仓库dev分支，然后基于dev分支创建了自己的本地开发分支xyz，并进行了一些代码修改工作，这时候同事A告诉你他修复了一个重要bug，并已经merge到远程dev分支了。请问如何同步你本地的xyz分支并解释为什么？<p>git checkout dev && git pull -r && git checkout - && git rebase dev<p>如果bug不影响我的分支就不着急更新，我倾向于尽量保持分支间的依赖关系简单点。 如果需要更新的话，方法其实很多了，我一般是先pull dev，然后再把xyz重新rebase一下，原因还是希望分支的关系尽量简单。<p>提交合并前 rebase 一下推上去<h2 id=can-kao-wen-zhang>参考文章</h2><p><a href=https://www.cnblogs.com/lfxiao/p/9378763.html>git commit之后，想撤销commit</a><p>https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/removing-sensitive-data-from-a-repository<p><a href=https://blog.csdn.net/weixin_36564655/article/details/89682393>git add .和git add *有什么区别</a></div></div></div><footer class=footer__poweredby><p class=caption>© 2022 All Rights Reserved modao::rustacean@aliyun.com<p class=caption>© Powered by <a href=https://www.getzola.org/>Zola</a><p class=caption>© Theme: <a href=https://github.com/pawroman/zola-theme-terminimal/>Terminimal</a> by pawroman<p class=caption><a href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh rel=license>自由转载-非商用-非衍生-保持署名</a></footer></div>