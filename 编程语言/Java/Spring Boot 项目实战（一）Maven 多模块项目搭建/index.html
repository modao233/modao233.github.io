<!DOCTYPE html>
<html>
<!-- html页面布局的head -->

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>
		modao
	</title>

	<!-- 百度统计代码 -->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?902dc461fe0d25f09e74e0d04677b6d8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WTGJE0M5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-N2WTGJE0M5');
	</script>
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>

    <!-- 文章详情页模板 -->

<!-- 主页标题栏 -->

<link rel="stylesheet" href="/css/navigatebar.css">


<header class="header">
	<div class="topbar">
		<div class="topbar-button topbar-mine">
			<a href="/">
				modao
			</a>
		</div>
		
			<div class="topbar-button">
				<a href="/">
					Home
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/categories">
					Categories
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/links">
					Friends
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/sites">
					Sites
				</a>
			</div>
		
			<div class="topbar-button">
				<a href="/stars">
					Stars
				</a>
			</div>
		

	</div>
	<div class="slogan">
		「生活可以更简单, 欢迎来到我的开源世界」
	</div>
</header>


<link rel="stylesheet" href="/css/font.css">


<link rel="stylesheet" href="/css/post.css" media="screen and (min-width: 600px)">


<link rel="stylesheet" href="/css/post_mobile.css" media="screen and (max-width: 600px)">


<link rel="stylesheet" href="/css/highlight.css">




<div class="toc">
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-text">环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">项目结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="toc-text">项目搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8B"><span class="toc-text">创建父工程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%90%E6%A8%A1%E5%9D%97"><span class="toc-text">创建子模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E7%90%86%E7%88%B6-pom-%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">整理父 pom 文件中的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E6%98%93-HTTP-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95"><span class="toc-text">简易 HTTP 接口测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9D%97%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"><span class="toc-text">配置模块间的依赖关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web-%E5%B1%82%E8%B0%83%E7%94%A8-biz-%E5%B1%82%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95"><span class="toc-text">web 层调用 biz 层接口测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E6%88%90-MyBatis"><span class="toc-text">集成 MyBatis</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8-Tomcat-%E9%83%A8%E7%BD%B2-war-%E5%8C%85"><span class="toc-text">外部 Tomcat 部署 war 包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-Profile-%E5%A4%9A%E7%8E%AF%E5%A2%83%E6%89%93%E5%8C%85"><span class="toc-text">Maven Profile 多环境打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-archetype-%E6%A8%A1%E6%9D%BF"><span class="toc-text">自定义 archetype 模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-archetype-%E6%A8%A1%E6%9D%BF%EF%BC%9F"><span class="toc-text">什么是 archetype 模板？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-archetype-%E6%A8%A1%E6%9D%BF"><span class="toc-text">创建 archetype 模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-archetype-%E6%A8%A1%E6%9D%BF"><span class="toc-text">使用 archetype 模板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-text">结语</span></a></li></ol>
</div>

<div class="content-area">
	<div class="title">
		Spring Boot 项目实战（一）Maven 多模块项目搭建
	</div>
	
	<div class="page-date">
		2021-01-13
	</div>
	
	<div class="category-area">
		
			 
				「
				<div class="category">
					<a href="/categories/Java">Java</a>
				
				</div>
				」
			 
				「
				<div class="category">
					<a href="/categories/Spring Boot">Spring Boot</a>
				
				</div>
				」
			
		
	</div>
	
	<div class="content">
		<p>原文：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/orzlin/p/10330163.html">https://www.cnblogs.com/orzlin/p/10330163.html</a></p>
<span id="more"></span>

<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul>
<li>  win10</li>
<li>  IDEA 2020.2</li>
<li>  JDK 1.8</li>
<li>  Maven 3.6.3</li>
<li>  Spring Boot</li>
</ul>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><ul>
<li>  biz 层（业务逻辑层）</li>
<li>  dao 层（数据持久层）</li>
<li>  common 层（公用组件层）</li>
<li>  web 层（请求处理层）</li>
</ul>
<blockquote>
<p>  注：biz 层依赖 dao 及 common 层， web 层依赖 biz 层</p>
</blockquote>
<h2 id="项目搭建"><a href="#项目搭建" class="headerlink" title="项目搭建"></a>项目搭建</h2><h3 id="创建父工程"><a href="#创建父工程" class="headerlink" title="创建父工程"></a>创建父工程</h3><ol>
<li><p> IDEA 主面板选择菜单「Create New Project 」或者工具栏选择菜单「 File -&gt; New -&gt; Project… 」![image-20210112231629069](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112231629069.png)</p>
</li>
<li><p>侧边栏选择「 Spring Initializr 」，Initializr 默认选择 Default ，然后点击「 Next 」</p>
<p> ![image-20210112231823448](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112231823448.png)</p>
</li>
<li><p>修改 Group 、 Artifact 、 Package 输入框中的值后点击「 Next 」</p>
<p> ![image-20210112232037894](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232037894.png)</p>
<ul>
<li>  GroupID 是项目组织唯一的标识符，实际对应JAVA的包的结构，是main目录里java的目录结构。</li>
<li>  ArtifactID是项目的唯一的标识符，实际对应项目的名称，就是项目根目录的名称。</li>
<li>命名规则：如果要把项目弄到maven本地仓库中，那项目就必须指定唯一的坐标，即指定唯一的GroupD和ArtifactID<ul>
<li>  GroupId一般分为多个段，第一段为域，第二段为公司名称。域又分为org、com、cn等等许多，其中org为非营利组织，com为商业组织。举个apache公司的tomcat项目例子：这个项目的GroupId是org.apache，它的域是org（因为tomcat是非营利项目），公司名称是apache，ArtifactId是tomcat。</li>
<li>  ArtifactId 是项目名称，比如：apache的tomcat项目</li>
</ul>
</li>
</ul>
</li>
<li><p>这步暂时先不需要选择，直接点「 Next 」</p>
<p> ![image-20210112232256095](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232256095.png)</p>
</li>
<li><p>点击「 Finish 」创建项目</p>
<p> ![image-20210112232353297](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232353297.png)</p>
</li>
<li><p>最终得到的项目目录结构如下</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">|-- demo<br>  |-- .gitignore<br>  |-- mvnw<br>  |-- mvnw.cmd<br>  |-- pom.xml<br>  |-- .mvn<br>  |   |-- wrapper<br>  | |-- maven-wrapper.jar<br>  | |-- maven-wrapper.properties<br>  |-- src<br>|-- main<br>|   |-- java<br>|   |   |-- com<br>|   | |-- modao<br>|   |     |-- demo<br>|   |   |-- DemoApplication.java<br>|   |-- resources<br>| |-- application.properties<br>|-- test<br>    |-- java<br>  |-- com<br>|-- modao<br>    |-- demo<br>  |-- DemoApplicationTests.java<br></code></pre></td></tr></table></figure>

<p> ![image-20210112232649102](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232649102.png)</p>
</li>
<li><p> 删除无用的 .mvn 目录、 src 目录、 mvnw 及 mvnw.cmd 文件，最终只留 .gitignore 和 pom.xml</p>
</li>
</ol>
<h3 id="创建子模块"><a href="#创建子模块" class="headerlink" title="创建子模块"></a>创建子模块</h3><ol>
<li><p> 选择项目根目录，右键呼出菜单，选择「 New -&gt; Module 」![image-20210112232801176](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232801176.png)</p>
</li>
<li><p> 侧边栏选择「 Maven 」，点击「 Next 」![image-20210112232829256](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232829256.png)</p>
</li>
<li><p> 填写 Name，点击「 Finish 」![image-20210112232924688](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112232924688.png)</p>
</li>
<li><p>同理添加「 dao 」、「 common 」、「 web 」子模块，最终得到项目目录结构如下</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">demo/<br>├── biz<br>│   ├── biz.iml<br>│   ├── pom.xml<br>│   └── src<br>│       ├── main<br>│       │   ├── java<br>│       │   └── resources<br>│       └── test<br>│     └── java<br>├── common<br>│   ├── common.iml<br>│   ├── pom.xml<br>│   └── src<br>│       ├── main<br>│       │   ├── java<br>│       │   └── resources<br>│       └── test<br>│     └── java<br>├── dao<br>│   ├── dao.iml<br>│   ├── pom.xml<br>│   └── src<br>│       ├── main<br>│       │   ├── java<br>│       │   └── resources<br>│       └── test<br>│     └── java<br>├── demo.iml<br>├── pom.xml<br>└── web<br>    ├── pom.xml<br>    ├── src<br>    │   ├── main<br>    │   │   ├── java<br>    │   │   └── resources<br>    │   └── test<br>    │       └── java<br>    └── web.iml<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="整理父-pom-文件中的内容"><a href="#整理父-pom-文件中的内容" class="headerlink" title="整理父 pom 文件中的内容"></a>整理父 pom 文件中的内容</h3><ol>
<li><p>删除 dependencies 标签及其中的 spring-boot-starter 和 spring-boot-starter-test  依赖，因为 Spring Boot 提供的父工程已包含，并且父 pom 原则上都是通过 dependencyManagement  标签管理依赖包。</p>
<blockquote>
<p>  注：dependencyManagement 及 dependencies 的区别自行查阅文档</p>
</blockquote>
</li>
<li><p> 删除 build 标签及其中的所有内容，spring-boot-maven-plugin  插件作用是打一个可运行的包，多模块项目仅仅需要在入口类所在的模块添加打包插件，这里父模块不需要打包运行。而且该插件已被包含在 Spring  Boot 提供的父工程中，这里删掉即可。</p>
</li>
<li><p>最后整理父 pom 文件中的其余内容，按其代表含义归类，整理结果如下：</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>biz<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>dao<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>common<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>web<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Demo project for Spring Boot<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">spring-boot.version</span>&gt;</span>2.3.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring-boot.version</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="简易-HTTP-接口测试"><a href="#简易-HTTP-接口测试" class="headerlink" title="简易 HTTP 接口测试"></a>简易 HTTP 接口测试</h3><p>准备工作都完成之后，通过一个简易的 HTTP 接口测试项目是否正常运行。</p>
<ol>
<li><p>首先在 web 模块的java目录下创建 com.modao.demo.web 包并添加入口类 DemoWebApplication.java</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.modao.demo.web;<br><br><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoWebApplication</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>  SpringApplication.run(DemoWebApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>其次在 web 层的 pom 文件中添加必要的依赖包</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>然后在 com.modao.demo.web 包中添加 controller 目录并新建一个 DemoController.java，添加 test 方法测试接口是否可以正常访问。</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.modao.demo.web.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;demo&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoController</span> </span>&#123;<br><br>    <span class="hljs-meta">@GetMapping(&quot;test&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello World!&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>最后运行 DemoWebApplication 类中的 main 方法启动项目，默认端口为 8080，访问 <a target="_blank" rel="noopener" href="http://localhost:8080/demo/test">http://localhost:8080/demo/test</a> 即可测试接口</p>
<p> ![image-20210112234543606](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210112234543606.png)</p>
</li>
</ol>
<h3 id="配置模块间的依赖关系"><a href="#配置模块间的依赖关系" class="headerlink" title="配置模块间的依赖关系"></a>配置模块间的依赖关系</h3><p>通常 JAVA Web 项目会按照功能划分不同模块，模块之间通过依赖关系进行协作，下面将完善模块之间的依赖关系。</p>
<ol>
<li><p>首先在父 pom 文件中使用「 dependencyManagement 」标签声明所有子模块依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 依赖管理：这里统一管理依赖的版本号 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>biz<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dao<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>其次在 biz 层中的 pom 文件中添加 dao 及 common 依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dao<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>之后在 demo-web 层中的 pom 文件中添加 demo-biz 依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>biz<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="web-层调用-biz-层接口测试"><a href="#web-层调用-biz-层接口测试" class="headerlink" title="web 层调用 biz 层接口测试"></a>web 层调用 biz 层接口测试</h3><p>模块依赖关系配置完成之后，通过 web 层 测试下 biz 层的接口是否可以正常调用。</p>
<ol>
<li><p>首先在 biz 模块的java目录里创建 com.modao.demo.biz 包，添加 service 目录并在其中创建 DemoService 接口类及 impl 目录（用于存放接口实现类）。</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.modao.demo.biz;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DemoService</span> </span>&#123;<br>    <span class="hljs-function">String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.modao.demo.biz.impl;<br><br><span class="hljs-keyword">import</span> com.modao.demo.biz.DemoService;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">DemoService</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;interface test&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>为 biz 模块添加依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>DemoController 通过 @Autowired 注解注入  DemoService ，修改 DemoController 的 test 方法使之调用 DemoService 的 test 方法</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.modao.demo.biz.impl;<br><br><span class="hljs-keyword">import</span> com.modao.demo.biz.DemoService;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">DemoService</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;interface test&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>再次运行 DemoWebApplication 类中的 main 方法启动项目，发现如下报错</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">***************************<br><br>Description:<br><br>Field demoService in com.modao.demo.web.controller.DemoController required a bean of type &#x27;com.modao.demo.biz.DemoService&#x27; that could not be found.<br><br>The injection point has the following annotations:<br>    - @org.springframework.beans.factory.annotation.Autowired(required=true)<br><br><br>Action:<br><br>Consider defining a bean of type &#x27;com.modao.demo.biz.DemoService&#x27; in your configuration.<br></code></pre></td></tr></table></figure>

<p> <strong>原因是找不到 DemoService 类</strong></p>
<p> 在 DemoWebApplication 入口类中增加包扫描，设置 @SpringBootApplication 注解中的 scanBasePackages 值为 com.modao.demo</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication(scanBasePackages = &quot;com.modao.demo&quot;)</span><br></code></pre></td></tr></table></figure></li>
<li><p>设置完后重新运行 main 方法，项目正常启动，访问  <a target="_blank" rel="noopener" href="http://localhost:8080/demo/test">http://localhost:8080/demo/test</a> 测试接口</p>
<p> ![image-20210113000035960](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000035960.png)</p>
</li>
</ol>
<h3 id="集成-MyBatis"><a href="#集成-MyBatis" class="headerlink" title="集成 MyBatis"></a>集成 MyBatis</h3><p>以上接口均是静态的，不涉及数据库操作，下面将集成 MyBatis 访问数据库中的数据</p>
<ol>
<li><p>首先父 pom 文件中声明 mybatis-spring-boot-starter 及 lombok 依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>其次在 dao 层中的 pom 文件中添加上述依赖</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>创建mysql数据库，数据库名为 test，新建一个表 test</p>
<p> ![image-20210113000632308](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000632308.png)</p>
<p> 在IDEA上连接该数据库</p>
<p> ![image-20210113000728250](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000728250.png)</p>
</li>
</ol>
<p>![image-20210113000750271](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000750271.png)</p>
<p>![image-20210113000859382](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000859382.png)</p>
<p>![image-20210113000922016](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113000922016.png)</p>
<p>点<code>1 of 7</code>选择想要连接的数据库，然后点图片中右上角的刷新</p>
<p>![image-20210113001324638](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113001324638.png)</p>
<ol start="4">
<li> IDEA安装插件 Free Mybatis plugin，在已连接的数据库的test表右键，选择 mybatis-genertaor</li>
</ol>
<p>![image-20210113001443198](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113001443198.png)</p>
<p>![image-20210113001534309](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113001534309.png)</p>
<ol start="5">
<li><p>之后在 dao 层创建 com.modao.demo.dao 包，通过 mybatis-genertaor 工具生成 dao 层相关文件（ DO 、 Mapper 、 xml ），目录结构如下</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">dao<br>├── dao.iml<br>├── pom.xml<br>└── src<br>    ├── main<br>    │   ├── java<br>    │   │   └── generate<br>    │   │       ├── Test.java<br>    │   │       └── TestDao.java<br>    │   └── resources<br>    │       └── generator<br>    │           └── TestDao.xml<br>    └── test<br>        └── java<br></code></pre></td></tr></table></figure></li>
<li><p>然后在 demo-web 层中的 resources 目录 创建 application.properties 文件并在其中添加 datasource 及 MyBatis 相关配置项</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver<br>spring.datasource.url = jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;useSSL=false&amp;allowPublicKeyRetrieval=true<br>spring.datasource.username = root<br>spring.datasource.password = 123456<br><br>mybatis.mapper-locations = classpath:mybatis/*.xml<br>mybatis.type-aliases-package = com.example.demo.dao.entity<br></code></pre></td></tr></table></figure>

<blockquote>
<p>  注：如果生成的 xml 在 dao 层 resources 目录的子目录中则 mybatis.mapper-locations 需设置为  <code>classpath:mybatis/*/*.xml</code></p>
</blockquote>
</li>
<li><p>DemoServiceImpl 通过 @Autowired 注解注入 UserMapper ，修改 DemoServiceImpl 的 test 方法使之调用 UserMapper 的 selectById 方法</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">DemoService</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>        UserDO user = userMapper.selectById(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> user.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>再次运行 DemoWebApplication 类中的 main 方法启动项目，出现如下报错</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">***************************<br><br>Description:<br><br>Field userMapper in com.modao.demo.biz.impl.DemoServiceImpl required a bean of type &#x27;com.modao.demo.dao.mapper.business.UserMapper&#x27; that could not be found.<br><br>The injection point has the following annotations:<br>    - @org.springframework.beans.factory.annotation.Autowired(required=true)<br><br><br>Action:<br><br>Consider defining a bean of type &#x27;com.modao.demo.dao.mapper.business.UserMapper&#x27; in your configuration.<br></code></pre></td></tr></table></figure>

<p> <strong>原因是找不到 UserMapper 类</strong></p>
<p> 在 DemoWebApplication入口类中增加 dao 层包扫描，添加 @MapperScan 注解并设置其值为 com.modao.demo.dao.mapper</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">@MapperScan(&quot;com.modao.demo.dao.mapper&quot;)<br></code></pre></td></tr></table></figure>

<p> 设置完后重新运行 main 方法，项目正常启动，访问 <a target="_blank" rel="noopener" href="http://localhost:8080/demo/test">http://localhost:8080/demo/test</a> 测试接口</p>
</li>
</ol>
<p>![image-20210113003013104](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113003013104.png)</p>
<h2 id="外部-Tomcat-部署-war-包"><a href="#外部-Tomcat-部署-war-包" class="headerlink" title="外部 Tomcat 部署 war 包"></a>外部 Tomcat 部署 war 包</h2><p>外部 Tomcat 部署的话，就不能依赖于入口类的 main 函数了，而是要以类似于 web.xml 文件配置的方式来启动 Spring应用上下文。</p>
<ol>
<li><p>在入口类中继承 SpringBootServletInitializer 并实现 configure 方法</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication(scanBasePackages = &quot;com.modao.demo&quot;)</span><br><span class="hljs-meta">@MapperScan(&quot;com.modao.demo.dao.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoWebApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SpringBootServletInitializer</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> SpringApplicationBuilder <span class="hljs-title">configure</span><span class="hljs-params">(SpringApplicationBuilder builder)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> builder.sources(DemoWebApplication.class);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SpringApplication.run(DemoWebApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>之前在 web 引入了 spring-boot-starter-web 的依赖，该依赖包包含内嵌的 Tomcat  容器，所以直接部署在外部 Tomcat 会冲突报错。这里在 web 层中的 pom 文件中重定义  spring-boot-starter-tomcat 依赖包的「 scope 」即可解决该问题。</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>声明 web 层的打包方式及最终的包名</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br>...省略其余部分...<br><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p> 此时在 web 层目录执行 <code>mvn clean install</code> 即可打出一个名为 demo.war 的包。</p>
</li>
</ol>
<h2 id="Maven-Profile-多环境打包"><a href="#Maven-Profile-多环境打包" class="headerlink" title="Maven Profile 多环境打包"></a>Maven Profile 多环境打包</h2><p>在日常开发中，通常不止一套环境，如开发环境、测试环境、预发环境、生成环境，而每个环境的配置项可能都不一样，这就需要用到多环境打包来解决这个问题。</p>
<ol>
<li><p>在 web 层的 resources 目录中新建 conf 目录，再在其中按照环境创建相应目录，这里创建开发环境「 dev  」及测试环境「 test 」，再将原本的 application.properties  文件分别拷贝一份到两个目录中，根据环境修改其中的配置项，最后删除原本的配置文件。得到目录结构如下：</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">|-- resources<br>    |-- conf<br>      |-- dev<br>      |   |-- application.properties<br>      |-- test<br>          |-- application.properties<br></code></pre></td></tr></table></figure></li>
<li><p>往 demo-web 层的 pom 文件添加 profile 标签</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">profile.env</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">profile.env</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">profile.env</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">profile.env</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>  注：其中 dev 为默认激活的 profile ，如要增加其他环境按照上述步骤操作即可。</p>
</blockquote>
</li>
<li><p>设置打包时资源文件路径</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>$&#123;basedir&#125;/src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">excludes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">exclude</span>&gt;</span>conf/**<span class="hljs-tag">&lt;/<span class="hljs-name">exclude</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">excludes</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources/conf/$&#123;profile.env&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>  注：${basedir} 为当前子模块的根目录</p>
</blockquote>
</li>
<li><p>打包时通过「 P 」参数指定 profile</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">mvn clean install -P <span class="hljs-built_in">test</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="自定义-archetype-模板"><a href="#自定义-archetype-模板" class="headerlink" title="自定义 archetype 模板"></a>自定义 archetype 模板</h2><h3 id="什么是-archetype-模板？"><a href="#什么是-archetype-模板？" class="headerlink" title="什么是 archetype 模板？"></a>什么是 archetype 模板？</h3><p>archetype 是一个 Maven 项目模板工具包，通过 archetype 我们可以快速搭建 Maven 项目。</p>
<p>每个模板里其实就是附带不同的依赖和插件。一般在公司私服里都会有属于本公司的一套 archetype 模板，里面有着调试好的项目用到的依赖包和版本号。</p>
<p>![image-20210113142600471](Spring Boot 项目实战（一）Maven 多模块项目搭建/image-20210113142600471.png)</p>
<h3 id="创建-archetype-模板"><a href="#创建-archetype-模板" class="headerlink" title="创建 archetype 模板"></a>创建 archetype 模板</h3><ol>
<li><p>cd 到项目根目录（即父 pom 文件所在目录）执行 mvn 命令，此时会在项目根目录生成 target 目录，其包含一个名为 generated-sources 的目录</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">mvn archetype:create-from-project<br></code></pre></td></tr></table></figure></li>
<li><p>打开「  /target/generated-sources/archetype/src/main/resources/META-INF/maven/  」目录下的 archetype-metadata.xml 文件，从中清理一些不需要的文件，如 IDEA 的一些文件（.idea、.iml）等。</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">fileSet</span> <span class="hljs-attr">filtered</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">encoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>.idea/libraries<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fileSet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fileSet</span> <span class="hljs-attr">filtered</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">encoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>.idea/inspectionProfiles<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fileSet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fileSet</span> <span class="hljs-attr">filtered</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">encoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>.idea/artifacts<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fileSet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fileSet</span> <span class="hljs-attr">filtered</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">encoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>.idea<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fileSet</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li><p>然后 cd target/generated-sources/archetype/，然后执行 install 命令，在本地仓库的根目录生成 archetype-catalog.xml 骨架配置文件</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">mvn install<br></code></pre></td></tr></table></figure>

<p> 文件内容如下：</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">archetype-catalog</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/plugins/maven-archetype-plugin/archetype-catalog/1.0.0 http://maven.apache.org/xsd/archetype-catalog-1.0.0.xsd&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/plugins/maven-archetype-plugin/archetype-catalog/1.0.0&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">archetypes</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">archetype</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.modao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo-archetype<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Demo project for Spring Boot<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">archetype</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">archetypes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">archetype-catalog</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="使用-archetype-模板"><a href="#使用-archetype-模板" class="headerlink" title="使用 archetype 模板"></a>使用 archetype 模板</h3><p>到本机的工作目录执行 mvn archetype:generate -DarchetypeCatalog=local 从本地 archeType 模板中创建项目</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">E:\Idea_workspace&gt;mvn archetype:generate -DarchetypeCatalog=local<br>[INFO] Scanning for projects...<br>[INFO]<br>[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------<br>[INFO] Building Maven Stub Project (No POM) 1<br>[INFO] --------------------------------[ pom ]---------------------------------<br>[INFO]<br>[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.0:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;<br>[INFO]<br>[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.0:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;<br>[INFO]<br>[INFO]<br>[INFO] --- maven-archetype-plugin:3.2.0:generate (default-cli) @ standalone-pom ---<br>[INFO] Generating project in Interactive mode<br>[INFO] No archetype defined. Using maven-archetype-quickstart (org.apache.maven.archetypes:maven-archetype-quickstart:1.0)<br>Choose archetype:<br>1: local -&gt; com.modao:demo-archetype (Demo project for Spring Boot)<br>Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): : 1<br>Define value for property &#x27;groupId&#x27;: com.orz.test<br>Define value for property &#x27;artifactId&#x27;: test<br>Define value for property &#x27;version&#x27; 1.0-SNAPSHOT: :<br>Define value for property &#x27;package&#x27; com.orz.test: :<br>Confirm properties configuration:<br>groupId: com.orz.test<br>artifactId: test<br>version: 1.0-SNAPSHOT<br>package: com.orz.test<br> Y: : y<br>[INFO] ----------------------------------------------------------------------------<br>[INFO] Using following parameters for creating project from Archetype: demo-archetype:0.0.1-SNAPSHOT<br>[INFO] ----------------------------------------------------------------------------<br>[INFO] Parameter: groupId, Value: com.orz.test<br>[INFO] Parameter: artifactId, Value: test<br>[INFO] Parameter: version, Value: 1.0-SNAPSHOT<br>[INFO] Parameter: package, Value: com.orz.test<br>[INFO] Parameter: packageInPathFormat, Value: com/orz/test<br>[INFO] Parameter: package, Value: com.orz.test<br>[INFO] Parameter: version, Value: 1.0-SNAPSHOT<br>[INFO] Parameter: groupId, Value: com.orz.test<br>[INFO] Parameter: artifactId, Value: test<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\artifacts\web_war.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\artifacts\web_war_exploded.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\dataSources\901ef934-d647-4f93-9dde-5974d2f053a2.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__ch_qos_logback_logback_classic_1_2_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__ch_qos_logback_logback_core_1_2_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_core_jackson_annotations_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_core_jackson_core_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_core_jackson_databind_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_datatype_jackson_datatype_jdk8_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_datatype_jackson_datatype_jsr310_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_fasterxml_jackson_module_jackson_module_parameter_names_2_11_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__com_zaxxer_HikariCP_3_4_5.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__jakarta_annotation_jakarta_annotation_api_1_3_5.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__mysql_mysql_connector_java_8_0_22.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_apache_logging_log4j_log4j_api_2_13_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_apache_logging_log4j_log4j_to_slf4j_2_13_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_apache_tomcat_embed_tomcat_embed_core_9_0_41.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_apache_tomcat_embed_tomcat_embed_websocket_9_0_41.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_glassfish_jakarta_el_3_0_3.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_mybatis_mybatis_3_5_6.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_mybatis_mybatis_spring_2_0_6.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_mybatis_spring_boot_mybatis_spring_boot_autoconfigure_2_1_4.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_mybatis_spring_boot_mybatis_spring_boot_starter_2_1_4.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_projectlombok_lombok_1_18_16.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_slf4j_jul_to_slf4j_1_7_30.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_slf4j_slf4j_api_1_7_30.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_autoconfigure_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_jdbc_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_json_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_logging_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_tomcat_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_boot_spring_boot_starter_web_2_3_7_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_aop_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_beans_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_context_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_core_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_expression_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_jcl_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_jdbc_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_tx_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_webmvc_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_springframework_spring_web_5_2_12_RELEASE.xml<br>[WARNING] Don&#x27;t override file E:\Idea_workspace\test\.idea\libraries\Maven__org_yaml_snakeyaml_1_26.xml<br>[INFO] Parent element not overwritten in E:\Idea_workspace\test\biz\pom.xml<br>[INFO] Parent element not overwritten in E:\Idea_workspace\test\dao\pom.xml<br>[INFO] Parent element not overwritten in E:\Idea_workspace\test\common\pom.xml<br>[INFO] Parent element not overwritten in E:\Idea_workspace\test\web\pom.xml<br>[INFO] Project created from Archetype in dir: E:\Idea_workspace\test<br>[INFO] ------------------------------------------------------------------------<br>[INFO] BUILD SUCCESS<br>[INFO] ------------------------------------------------------------------------<br>[INFO] Total time:  01:11 min<br>[INFO] Finished at: 2021-01-13T14:50:54+08:00<br>[INFO] ------------------------------------------------------------------------<br></code></pre></td></tr></table></figure>

<p>上面罗列出了所有可用的模板，首先选择使用哪个模板，这里选择 1 ，其次输入「 groupId 」、「 articleId 」、「 version 」及「 package 」，然后输入「 Y 」确认创建，最终项目创建成功。</p>
<blockquote>
<p>  原文教程并未产生如此多警告，可能是之前清理</p>
<p>  archetype-metadata.xml 文件中一些不需要的文件时，因为我不知道删除哪些而没动手吧</p>
</blockquote>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>至此 Spring Boot Maven 多模块项目的搭建过程已经介绍完毕，后续会在此基础上继续集成一些中间件。</p>
<blockquote>
<p>  原文作者的源码：<a target="_blank" rel="noopener" href="https://github.com/SymonLin/demo">https://github.com/SymonLin/demo</a></p>
</blockquote>

	</div>
</div>
<!-- 返回顶部模块 -->
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;font-size:26px;background-color:#8590a6">
	<a title="返回顶部" style="color:#04fa9f"><⇧></a>
</div>
<script src="/js/totop.js"></script>

  </body>

</html>