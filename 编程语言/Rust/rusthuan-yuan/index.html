<!doctype html><html lang=zh-Hans-CN><head><title>modao's blog</title><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><meta content=noodp name=robots><link href=https://modao.site/style.css rel=stylesheet><link href=https://modao.site/color/green.css rel=stylesheet><link href=https://modao.site/color/background_dark.css rel=stylesheet><link href=https://modao.site/font-hack.css rel=stylesheet><body><div class=container><header class=header><div class=header__inner><div class=header__logo><a style="text-decoration: none;" href=https://modao.site> <div class=logo>MODAO</div> </a></div></div><nav class=menu><ul class=menu__inner><li class=active><a href=https://modao.site>Home</a><li><a href=https://modao.site/tags>Tags</a><li><a href=https://modao.site/language>Programming-Language</a><li><a href=https://modao.site/books>Books</a><li><a href=https://modao.site/links>Links</a><li><a href=https://modao.site/friend>Friend</a><li><a href=https://modao.site/about>About Me</a></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://modao.site/编程语言/Rust/rusthuan-yuan/>(转载)rustup换源</a></h1><div class=post-meta-inline><span class=post-date> 2020-11-24 </span></div><div class=post-content><p>转载：https://blog.csdn.net/weixin_43209843/article/details/104361360<h2 id=rustuphuan-yuan-zhong-ke-da-yuan>rustup换源（中科大源）：</h2><p>在<code>.bashrc</code>中写入：<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#b48ead;>export </span><span style=color:#bf616a;>RUSTUP_DIST_SERVER</span><span>=</span><span style=color:#a3be8c;>https://mirrors.ustc.edu.cn/rust-static
</span><span style=color:#b48ead;>export </span><span style=color:#bf616a;>RUSTUP_UPDATE_ROOT</span><span>=</span><span style=color:#a3be8c;>https://mirrors.ustc.edu.cn/rust-static/rustup
</span></code></pre><p>cargo换源： 新建（或编辑已有）文件<code>～/.cargo/config</code>，写入：<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>[source.crates-io]
</span><span style=color:#bf616a;>registry</span><span> = "</span><span style=color:#a3be8c;>https://github.com/rust-lang/crates.io-index</span><span>"
</span><span style=color:#bf616a;>replace-with</span><span> = '</span><span style=color:#a3be8c;>ustc</span><span>'
</span><span style=color:#bf616a;>[source.ustc]
</span><span style=color:#bf616a;>registry</span><span> = "</span><span style=color:#a3be8c;>https://mirrors.ustc.edu.cn/crates.io-index/</span><span>"
</span></code></pre><p>如果cargo版本小于0.13.0，在开头添加：<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>[registry]
</span><span style=color:#bf616a;>index</span><span> = "</span><span style=color:#a3be8c;>https://mirrors.ustc.edu.cn/crates.io-index/</span><span>"
</span></code></pre><h2 id=cargohuan-yuan-qing-hua-yuan>cargo换源（清华源）</h2><p><a href=https://www.cnblogs.com/fifolilo/p/13184622.html>Win10 修改 rust 的 crates 源为中科大源</a><p>因为我是手动安装 rust 的，所以在 <code>~/.cargo/</code> 目录下没有 <code>config</code> 文件（这里我用 Linux 下的 <code>~</code> 来指代windows下的用户根目录），所以手动新建一个 <code>~/.cargo/config</code> 文件并编辑内容如下：<pre class=language-toml data-lang=toml style=background-color:#2b303b;color:#c0c5ce;><code class=language-toml data-lang=toml><span>[http]
</span><span style=color:#bf616a;>check-revoke </span><span>= </span><span style=color:#d08770;>false
</span><span>
</span><span>[source.crates-io]
</span><span style=color:#bf616a;>replace-with </span><span>= '</span><span style=color:#a3be8c;>ustc</span><span>'
</span><span>
</span><span>[source.ustc]
</span><span style=color:#bf616a;>registry </span><span>= "</span><span style=color:#a3be8c;>https://mirrors.ustc.edu.cn/crates.io-index</span><span>"
</span></code></pre><p>然后在项目下执行 <code>cargo build</code> 安装依赖，发现下载安装速度一下子就提升了。<p>另提供 tuna 的配置：<pre class=language-toml data-lang=toml style=background-color:#2b303b;color:#c0c5ce;><code class=language-toml data-lang=toml><span style=color:#bf616a;>replace-with </span><span>= '</span><span style=color:#a3be8c;>tuna</span><span>'
</span><span>[source.tuna]
</span><span style=color:#bf616a;>registry </span><span>= "</span><span style=color:#a3be8c;>https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git</span><span>"
</span></code></pre></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 modao</span><span class=copyright-theme> <span class=copyright-theme-sep>:: </span> Theme: <a href=https://github.com/pawroman/zola-theme-terminimal/>Terminimal</a> by pawroman </span></div></div></footer></div>